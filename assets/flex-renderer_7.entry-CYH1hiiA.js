import{r as $,h as l,g as he,c as _,H as He}from"./index-Cr2Mr-Ck.js";import{I as Ke}from"./icon-search-c09d65cf-B8ZDb1Zs.js";import{g as De,c as nt}from"./utils-3803a333-Cc9HXbaG.js";import{d as ot,M as Z}from"./ModusIconMap-c226cf23-mOrC5bGl.js";import{I as st}from"./icon-close-fdd297f4-U0CKW0Dr.js";import{q as at,x as rt,y as lt,z as dt,B as ct,v as Re,w as Me,f as ut}from"./modus-table.constants-3cf5de92-COwUi9LB.js";import"./IconChevronLeft-dfd06381-CrHEVP-z.js";import"./IconChevronRight-5734b74b-DDHSeXoL.js";import"./IconClose-be97678b-DIzIiDCV.js";import"./IconExpand-ccaa9f2c-BfHBzJTo.js";import"./IconVisibilityOn-6945ca0c-OlGOR4o_.js";const Ai=class{constructor(e){$(this,e),this.content=""}componentDidLoad(){this.renderHTMLContent()}renderHTMLContent(){const e=this.content.trim(),t=this.parseHTMLString(e),i=this.el.shadowRoot;i&&t.forEach(n=>{i.appendChild(n)})}parseHTMLString(e){const i=new DOMParser().parseFromString(e,"text/html");return Array.from(i.body.childNodes).map(o=>this.createElementFromNode(o))}createElementFromNode(e){const t=document.createElement(e.tagName.toLowerCase());return Array.from(e.attributes).forEach(i=>{t.setAttribute(i.name,i.value)}),e.childNodes.length>0&&e.childNodes.forEach(i=>{i.nodeType===Node.TEXT_NODE?t.appendChild(document.createTextNode(i.textContent)):i.nodeType===Node.ELEMENT_NODE&&t.appendChild(this.createElementFromNode(i))}),t}render(){return l(He,{key:"f1d1844c4dc3c40709804bd3c061ad15aec2e0da"})}get el(){return he(this)}},ht='.autocomplete{position:relative}.autocomplete ul{list-style-type:none;margin:0;padding:0}.autocomplete label{color:var(--modus-autocomplete-label-color, #464b52);font-size:0.75rem;font-weight:700;margin-bottom:0.25rem}.autocomplete .label-container{display:inline-block;margin-bottom:0.25rem}.autocomplete .label-container .required{bottom:0.0625rem;color:var(--modus-autocomplete-validation-error-color, #da212c);margin-left:0.25rem;position:relative}.autocomplete .chips-container{align-items:center;background-color:var(--modus-autocomplete-bg, #fff);border:var(--modus-autocomplete-border, 0.0625rem solid var(--modus-input-border-color, #6a6e79));border-bottom-color:var(--modus-input-border-color, #6a6e79);border-radius:4px;box-sizing:border-box;display:flex;flex-flow:row wrap;height:auto;margin:0;min-height:32px;padding:0;position:relative;width:100%}.autocomplete .chips-container.clearable-icon{padding-right:32px}.autocomplete .chips-container:focus-within{border-color:var(--modus-input-border-active-line-color, #217cbb);box-shadow:0 0 0 1px var(--modus-input-border-active-line-color, #217cbb)}.autocomplete .chips-container .icon-search{margin-left:4px;margin-right:0}.autocomplete .chips-container modus-chip{margin-left:4px;margin-right:4px;overflow:hidden}.autocomplete .chips-container .autocomplete-chip::part(chipButton){max-width:100%}.autocomplete .chips-container .input{display:flex;flex:1;height:auto !important;position:relative;--input-font-size:var(--modus-autocomplete-font-size, 12px)}.autocomplete .chips-container .input::part(input-container){border:none !important;box-shadow:none;height:1.875rem;min-width:30px}.autocomplete .chips-container .icons{align-items:center;color:var(--modus-input-helper-icon-color, #6a6e79);cursor:pointer;display:flex;font-size:1rem;height:100%;justify-content:center;margin-left:1px;width:2rem}.autocomplete .chips-container .icons.clear{cursor:pointer;min-height:1.875rem;position:absolute;right:0}.autocomplete .chips-container .icons.clear:hover svg path{opacity:0.75}.autocomplete .error{color:var(--modus-autocomplete-validation-error-color, #da212c)}.autocomplete .options-container{background-color:var(--modus-list-item-bg, #fff);border-radius:4px;box-shadow:0 0 4px rgba(36, 35, 45, 0.3);font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";margin:0;padding:0;position:absolute;width:100%}.autocomplete .options-container .icon-check{display:inline-flex;flex-shrink:0;margin-left:auto}.autocomplete .options-container .text-option{align-items:center;border:1px solid var(--modus-list-item-border-color, #e0e1e9);color:var(--modus-list-item-color, #252a2e);cursor:pointer;display:flex;flex-direction:row;font-size:0.75rem;min-height:2rem;padding:0 8px;word-break:break-all}.autocomplete .options-container .text-option.selected{background-color:var(--modus-blue-pale, #dcedf9)}.autocomplete .options-container .text-option.selected .highlight-text{color:var(--modus-blue, #0063a3)}.autocomplete .options-container .text-option:hover{background-color:var(--modus-list-item-hover-bg, #e0e1e9)}.autocomplete .options-container .text-option:focus{background-color:var(--modus-list-item-hover-bg, #e0e1e9)}.autocomplete .options-container .text-option .highlight-text{font-weight:bold}.autocomplete .options-container .custom-option{border:1px solid var(--modus-list-item-border-color, #e0e1e9);cursor:pointer}.autocomplete .options-container .custom-option.selected{background-color:var(--modus-blue-pale, #dcedf9)}.autocomplete .options-container .custom-option:hover{background-color:var(--modus-list-item-hover-bg, #e0e1e9)}.autocomplete .options-container .custom-option:focus{background-color:var(--modus-list-item-hover-bg, #e0e1e9)}.autocomplete .options-container .spinner-container{display:flex;justify-content:center;padding:4px}.autocomplete .options-container .no-results{align-items:center;border:1px solid var(--modus-list-item-border-color, #e0e1e9);border-radius:4px;display:flex;flex-direction:column;height:100px;justify-content:center}.autocomplete .options-container .no-results path{fill:var(--modus-autocomplete-no-results-message-color, #252a2e)}.autocomplete .options-container .no-results .message{color:var(--modus-autocomplete-no-results-message-color, #252a2e);font-size:1.25rem;font-weight:600;margin:0 0 0.375rem 0.25rem}.autocomplete .options-container .no-results .subtext{color:var(--modus-autocomplete-no-results-subtext-color, #252a2e);font-size:0.875rem}.autocomplete.large .chips-container .input::part(input-container){height:3rem}.autocomplete.large .icon-search{margin-left:8px}.autocomplete.large .options-container>.text-option{font-size:0.875rem;min-height:3rem;padding:0 1rem}.autocomplete[aria-readonly=true] .chips-container{background-color:var(--modus-autocomplete-readonly-bg, #e0e1e9);border-color:transparent}.autocomplete[aria-readonly=true] .chips-container .input::part(input-container){background-color:var(--modus-autocomplete-readonly-bg, #e0e1e9);border-color:transparent;color:var(--modus-autocomplete-readonly-color, #a3a6b1)}.autocomplete[aria-disabled=true] .chips-container{background-color:var(--modus-input-disabled-bg, #e0e1e9);border-color:transparent;pointer-events:none;user-select:none}.autocomplete[aria-disabled=true] .chips-container .input::part(input-container){background-color:var(--modus-input-disabled-bg, #e0e1e9);border-color:transparent;color:var(--modus-input-disabled-color, #a3a6b1);pointer-events:none;user-select:none}',pt=ht,Ne="data-id",ve="data-search-value",mt=class{constructor(e){$(this,e),this.optionSelected=_(this,"optionSelected"),this.valueChange=_(this,"valueChange"),this.selectionsChanged=_(this,"selectionsChanged"),this.listId=De()+"_list",this.classBySize=new Map([["medium","medium"],["large","large"]]),this.displayNoResults=()=>{var t,i,n;return!this.loading&&this.showNoResultsFoundMessage&&this.hasFocus&&!(!((t=this.visibleOptions)===null||t===void 0)&&t.length)&&!(!((i=this.visibleCustomOptions)===null||i===void 0)&&i.length)&&((n=this.value)===null||n===void 0?void 0:n.length)>0&&!this.readOnly},this.displayOptions=()=>{var t;const i=this.showOptionsOnFocus||((t=this.value)===null||t===void 0?void 0:t.length)>0||this.disableCloseOnSelect||this.ShowItemsOnKeyDown;return!this.loading&&this.hasFocus&&i&&!this.disabled&&!this.readOnly},this.handleCustomOptionClick=t=>{const i=t.getAttribute(ve),n=t.getAttribute(Ne);this.multiple?this.addChipValue({id:n,value:i}):(this.selectedOption=i,this.disableFiltering=this.disableCloseOnSelect,this.handleSearchChange(i),this.focusItemIndex=this.visibleCustomOptions.findIndex(o=>o.getAttribute(Ne)===n)),this.hasFocus=this.disableCloseOnSelect,this.optionSelected.emit(n)},this.handleInputBlur=()=>{this.hasFocus=!this.disableCloseOnSelect},this.handleKeyDown=t=>{t.defaultPrevented||(t.code.toUpperCase()==="ARROWDOWN"?(this.ShowItemsOnKeyDown=!0,this.displayOptions()&&!this.displayNoResults()&&(this.focusItemIndex=0,this.focusOptionItem())):t.code.toUpperCase()==="ESCAPE"&&(this.ShowItemsOnKeyDown=!1))},this.handleOptionKeyDown=(t,i,n=!1)=>{switch(this.disableFiltering=!this.disableCloseOnSelect,t.key.toUpperCase()){case"ENTER":case" ":n?this.handleCustomOptionClick(i):this.handleOptionClick(i);break;case"ARROWDOWN":n?this.handleArrowDown(this.visibleCustomOptions):this.handleArrowDown(this.visibleOptions),t.preventDefault();break;case"ARROWUP":this.handleArrowUp();break;default:return}},this.handleOptionClick=t=>{this.multiple?this.addChipValue(t):(this.selectedOption=t.value,this.disableFiltering=this.disableCloseOnSelect,this.focusItemIndex=this.visibleOptions.findIndex(i=>i.id===t.id),this.handleSearchChange(t.value)),this.hasFocus=this.disableCloseOnSelect,this.optionSelected.emit(t.id)},this.handleArrowDown=t=>{this.focusItemIndex=Math.min(t.length-1,this.focusItemIndex+1),this.focusOptionItem()},this.handleInputKeyDown=t=>{t.defaultPrevented||t.key==="Backspace"&&this.multiple&&!this.getValueAsString()&&this.selectedChips.length>0&&(this.selectedChips=this.selectedChips.slice(0,-1),this.valueChange.emit(this.selectedChips.map(i=>i.value)),this.selectionsChanged.emit(this.selectedChips.map(i=>i.id)))},this.handleArrowUp=()=>{this.focusItemIndex=Math.max(0,this.focusItemIndex-1),this.focusOptionItem()},this.focusOptionItem=()=>{var t;(t=this.el.shadowRoot.querySelectorAll('[role="option"]')[this.focusItemIndex])===null||t===void 0||t.focus()},this.handleSearchChange=(t,i=!1)=>{i||(this.updateVisibleOptions(t),this.updateVisibleCustomOptions(t)),this.value=t,this.valueChange.emit(t)},this.handleChipDelete=(t,i)=>{t.key==="Delete"&&this.removeChip(i)},this.handleTextInputFocus=()=>{var t;((t=this.value)===null||t===void 0?void 0:t.length)>0&&!this.disableCloseOnSelect&&(this.disableFiltering=!0)},this.handleTextInputValueChange=t=>{var i;if(typeof this.filterOptions=="function"){const n=t.detail;this.handleSearchChange(n,!0),(i=this.filterOptions(n))===null||i===void 0||i.then(o=>{const a=this.getValueAsString();if(n!==a)return;const s=o[0]&&typeof o[0]=="string"?this.stringToOption(o):o;this.options=s,this.visibleOptions=s})}else t.stopPropagation(),this.disableFiltering=!this.disableCloseOnSelect,this.handleSearchChange(t.detail)},this.updateVisibleCustomOptions=(t="")=>{var i,n;if(!this.hasFocus)return;const o=(i=this.el.shadowRoot)===null||i===void 0?void 0:i.querySelector("slot");if(!o||typeof o.assignedNodes!="function")return;this.customOptions=o.assignedNodes().filter(s=>s.nodeName!=="#text"),t=t||"",t.length===0&&(this.selectedOption=""),this.disableFiltering?this.visibleCustomOptions=this.customOptions:this.visibleCustomOptions=(n=this.customOptions)===null||n===void 0?void 0:n.filter(s=>{var r;return(r=s.getAttribute(ve))===null||r===void 0?void 0:r.toLowerCase().includes(t==null?void 0:t.toLowerCase())}),this.containsSlottedElements=this.customOptions.length>0},this.updateVisibleOptions=(t="")=>{var i;if(!this.hasFocus)return;t=t||"",t.length===0&&(this.selectedOption=""),this.disableFiltering?this.visibleOptions=this===null||this===void 0?void 0:this.options:this.visibleOptions=(i=this===null||this===void 0?void 0:this.options)===null||i===void 0?void 0:i.filter(o=>{var a;return(a=o==null?void 0:o.value)===null||a===void 0?void 0:a.toLowerCase().includes(t==null?void 0:t.toLowerCase())})},this.getHighlightedText=(t,i)=>{if(!i)return t;const n=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp(n,"gi"),a=t.replace(o,s=>`<span class="highlight-text">${s}</span>`);return l("span",{innerHTML:a})},this.CustomOptionsSlot=()=>l("div",{style:{display:"none"}},l("slot",{onSlotchange:()=>this.updateVisibleCustomOptions(this.getValueAsString())})),this.TextInput=()=>l("modus-text-input",{class:"input",autocomplete:"off",includeSearchIcon:!1,onFocus:this.handleTextInputFocus,onValueChange:t=>this.handleTextInputValueChange(t),placeholder:this.placeholder,size:this.size,type:"search",value:this.getValueAsString(),onBlur:this.handleInputBlur,onKeyDown:t=>this.handleInputKeyDown(t),role:"combobox",disabled:this.disabled,readOnly:this.readOnly,"aria-autocomplete":"list","aria-controls":this.listId,"aria-expanded":this.displayOptions()}),this.scrollToOptionSelected=()=>{if(this.multiple||this.focusItemIndex===0)return;const i=this.el.shadowRoot.querySelector(".options-container").querySelector("li.selected");i&&i.scrollIntoView({behavior:"smooth",inline:"nearest"})},this.multiple=void 0,this.ariaLabel=void 0,this.clearable=!1,this.disabled=void 0,this.disableCloseOnSelect=void 0,this.dropdownMaxHeight="300px",this.dropdownZIndex="1",this.errorText=void 0,this.includeSearchIcon=!0,this.label=void 0,this.noResultsFoundText="No results found",this.noResultsFoundSubtext="Check spelling or try a different keyword",this.options=void 0,this.filterOptions=void 0,this.selectedChips=[],this.selectedOption=void 0,this.loading=!1,this.showOptionsOnFocus=void 0,this.placeholder=void 0,this.readOnly=void 0,this.required=void 0,this.showNoResultsFoundMessage=!0,this.size="medium",this.value=void 0,this.containsSlottedElements=!1,this.hasFocus=!1,this.visibleOptions=[],this.customOptions=[],this.visibleCustomOptions=[],this.disableFiltering=!1,this.focusItemIndex=0,this.ShowItemsOnKeyDown=!1}watchOptions(){this.convertOptions(),this.updateVisibleOptions(this.getValueAsString())}onValueChange(){this.hasFocus&&!this.disableCloseOnSelect&&(this.disableFiltering=!1,this.updateVisibleOptions(this.getValueAsString()),this.updateVisibleCustomOptions(this.getValueAsString())),this.multiple&&Array.isArray(this.value)&&(this.value.length?this.initializeSelectedChips():(this.handleClear(),this.errorText=""))}componentWillLoad(){this.convertOptions(),this.multiple&&this.initializeSelectedChips()}componentDidRender(){this.displayOptions()&&this.scrollToOptionSelected()}async focusInput(){const e=this.el.shadowRoot.querySelector("modus-text-input");e&&e.focusInput()}onMouseDown(e){this.hasFocus&&(this.el!==e.target||!this.el.contains(e.target))&&(this.hasFocus=!1,this.ShowItemsOnKeyDown=!1)}stringToOption(e){return e==null?void 0:e.map(t=>({id:t,value:t}))}convertOptions(){this.options&&this.options.length>0&&typeof this.options[0]=="string"&&(this.options=this.stringToOption(this.options))}addChipValue(e){this.selectedChips.some(t=>t.id===e.id)||(this.selectedChips=[...this.selectedChips,e],this.valueChange.emit(this.selectedChips.map(t=>t.value)),this.selectionsChanged.emit(this.selectedChips.map(t=>t.id)),this.value="")}handleClear(){this.selectedChips=[],this.selectedOption="",this.value="",this.valueChange.emit(this.multiple?[]:""),this.selectionsChanged.emit(this.multiple?[]:null)}handleClearKeyDown(e){e.key!=="Enter"&&e.key!==" "||this.handleClear()}getValueAsString(){return this.value&&Array.isArray(this.value)?"":this.value&&typeof this.value=="string"?this.value:""}initializeSelectedChips(){if(Array.isArray(this.value)){const e=this.value.map(i=>i.trim()),t=this.options.filter(i=>e.includes(i.value));this.selectedChips=t,this.valueChange.emit(this.selectedChips.map(i=>i.value)),this.selectionsChanged.emit(this.selectedChips.map(i=>i.id))}}handleCloseClick(e){this.removeChip(e)}removeChip(e){this.selectedChips.length!=0&&!this.readOnly&&(this.selectedChips=this.selectedChips.filter(t=>t.id!==e.id),this.valueChange.emit(this.selectedChips.map(t=>t.value)),this.selectionsChanged.emit(this.selectedChips.map(t=>t.id)))}valueChangedHandler(e){e.detail==null&&this.handleClear()}render(){var e,t;const i=`autocomplete ${this.classBySize.get(this.size)}`,n=this.size==="large"?"24":"16",o=this.clearable&&!this.readOnly&&!this.disabled&&(!!this.value||this.selectedChips.length>0);return l("div",{key:"2e1d65aa5f02f1199b0c3e63ed4ab81da41a6062","aria-disabled":this.disabled?"true":void 0,"aria-invalid":!!this.errorText,"aria-label":this.ariaLabel||void 0,"aria-readonly":this.readOnly?"true":void 0,"aria-required":this.required,class:i,onFocusin:()=>{this.hasFocus||(this.hasFocus=!0,this.updateVisibleOptions(this.getValueAsString()),this.updateVisibleCustomOptions(this.getValueAsString()))},onFocusout:()=>{this.hasFocus&&(this.hasFocus=this.disableCloseOnSelect)},onKeyDown:a=>this.handleKeyDown(a)},this.label||this.required?l("div",{class:"label-container"},this.label?l("label",null,this.label):null,this.required?l("span",{class:"required"},"*"):null):null,l("div",{key:"c11b8a67b60820fb603bb517861083f3e2defb1c",class:`chips-container ${this.clearable?"clearable-icon":""}`},this.includeSearchIcon?l(Ke,{size:"16"}):null,this.selectedChips.map(a=>l("modus-chip",{class:"autocomplete-chip",tabIndex:this.disabled?-1:0,value:a.value,chipId:a.id,disabled:this.disabled,onKeyDown:s=>this.handleChipDelete(s,a),size:this.size==="large"?"medium":"small","show-close":!0,onCloseClick:()=>this.handleCloseClick(a)})),this.TextInput(),o&&l("span",{class:"icons clear",tabIndex:0,onKeyDown:a=>this.handleClearKeyDown(a),onClick:()=>this.handleClear(),role:"button","aria-label":"Clear entry"},l(st,{size:n}))),l("div",{key:"a99555ba4a09030b1e646b2068ab835e16d479ce",class:"error"},this.errorText?l("label",{class:"sub-text error"},this.errorText):null),l("div",{key:"e3441ad7714adbdea717b2881d94b7a3f1038959",class:"options-container",style:{maxHeight:this.dropdownMaxHeight,zIndex:this.dropdownZIndex,overflowY:"auto"}},l("ul",{key:"89aeef4adc34adad8f45eeb3b893d2c79e88a2c9",id:this.listId,"aria-label":"options",role:"listbox"},this.displayOptions()&&((e=this.visibleOptions)===null||e===void 0?void 0:e.map(a=>{let s,r;return this.multiple?(r=this.selectedChips.includes(a),s="text-option"+(r?" selected":"")):(r=this.selectedOption===a.value,s="text-option"+(r?" selected":"")),l("li",{class:s,tabindex:"-1",role:"option",onMouseDown:()=>this.handleOptionClick(a),onKeyDown:d=>this.handleOptionKeyDown(d,a)},this.getHighlightedText(a.value,this.getValueAsString()),r&&l(ot,{size:"16"}))})),this.displayOptions()&&((t=this.visibleCustomOptions)===null||t===void 0?void 0:t.map(a=>{const s=a.getAttribute(ve),r=this.selectedChips.some(c=>c.value===s);let d;return this.multiple?d="custom-option"+(r?" selected":""):d="custom-option"+(this.selectedOption===s?" selected":""),l("li",{class:d,tabindex:"-1",role:"option",onMouseDown:()=>this.handleCustomOptionClick(a),onKeyDown:c=>this.handleOptionKeyDown(c,a,!0),innerHTML:a.outerHTML})}))),this.loading?l(gt,null):this.displayNoResults()&&l(ft,{text:this.noResultsFoundText,subtext:this.noResultsFoundSubtext})),this.CustomOptionsSlot())}get el(){return he(this)}static get watchers(){return{options:["watchOptions"],value:["onValueChange"]}}},ft=e=>l("div",{class:"no-results"},l("div",{style:{display:"flex"}},l(Ke,{size:"28px"}),l("div",{class:"message"},e.text)),l("div",{class:"subtext"},e.subtext)),gt=()=>l("div",{class:"spinner-container"},l("modus-spinner",{size:"1.5rem"}));mt.style=pt;const pe=["January","February","March","April","May","June","July","August","September","October","November","December"],ke=pe.map(e=>e.substring(0,3));function oe(e){return e<10?`0${e}`:e.toString()}const bt={mmmm:{regex:`(${pe.join("|")})`,type:"month"},mmm:{regex:`(${ke.join("|")})`,type:"month"},mm:{regex:"(1[0-2]|0?[1-9])",type:"month"},m:{regex:"(1[0-2]|0?[1-9])",type:"month"},dd:{regex:"(3[01]|0?[1-9]|[12][0-9])",type:"date"},d:{regex:"(3[01]|0?[1-9]|[12][0-9])",type:"date"},yy:{regex:"(\\d{2})",type:"year"},yyyy:{regex:"(\\d{4})",type:"year"}},se={m:function(e){return`${e}`},mm:function(e){return oe(e)},mmm:function(e){return ke[e-1]},mmmm:function(e){return pe[e-1]},d:function(e){return`${e}`},dd:function(e){return oe(e)},yy:function(e){return oe(e).substring(2)},yyyy:function(e,t){if(e<100){const i=t||new Date().getFullYear();return`${String(i).substring(0,2)}${oe(e)}`}else return`${e}`}},q=function(e){return parseFloat(e)},ye={m:q,mm:q,mmm:function(e){return ke.findIndex(t=>t.toUpperCase()===(e==null?void 0:e.toUpperCase()))+1},mmmm:function(e){return pe.findIndex(t=>t.toUpperCase()===(e==null?void 0:e.toUpperCase()))+1},d:q,dd:q,yy:q,yyyy:q},Ce=/^(\d{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])/;class xe{constructor(t,i){const[n,o,a]=this.buildRegexAndTokens(i);n&&o&&(this._dateRegExp=n,this._dateTokens=o,this._displayFormat=i,this._tokenSeparators=a),this._fillerDate=this.getFillerDate(t)}autoFormatInput(t,i){if(!t||!i)return t;const n=this._tokenSeparators.get(t.length);return n?t+n:t}buildRegexAndTokens(t){const i=new Map,n=[],o=new Map;for(let a=0;a<t.length;a++){let s=t[a];const r=[s];for(;t[a+1]===s;)r.push(s),++a;const d=r.join(""),c=bt[d];c&&c.regex?(i.set(c.type,{index:i.size,tokenString:d}),s=c.regex):o.set(a,s),n.push(s)}return[`^${n.join("")}$`,i,o]}formatDisplayString(t){const n=new RegExp(Ce).exec(t);if(n){n.shift();const o={year:parseFloat(n[0]),month:parseFloat(n[1]),date:parseFloat(n[2])};let a=this._displayFormat;return this._dateTokens.forEach(({tokenString:s},r)=>{const d=se[s];a=a.replace(s,d(o[r],r==="year"?this._fillerDate.getFullYear():null))}),a}return null}parseDisplayString(t){if(this._dateRegExp&&t){const n=new RegExp(this._dateRegExp,"i").exec(t);if(n){n.shift();const o=this._dateTokens.get("month"),a=this._dateTokens.get("date"),s=this._dateTokens.get("year"),r=o?ye[o.tokenString](n[o.index]):this._fillerDate.getMonth()+1,d=a?ye[a.tokenString](n[a.index]):this._fillerDate.getDate(),c=s?ye[s.tokenString](n[s.index]):this._fillerDate.getFullYear(),u=`${se.yyyy(c,this._fillerDate.getFullYear())}-${se.mm(r)}-${se.dd(d)}`;return Date.parse(u)?u:null}}return null}getFillerDate(t){return this.parseIsoToDate(t)||new Date(new Date().getFullYear(),0,1,0,0,0,0)}parseIsoToDate(t){if(!t)return null;const n=new RegExp(Ce).exec(t);return n?(n.shift(),new Date(parseFloat(n[0]),parseFloat(n[1])-1,parseFloat(n[2]))):null}}const vt='.modus-date-input{box-sizing:border-box;display:inline-flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";position:relative;width:100%}.modus-date-input button{background:0;border:0;cursor:pointer;margin:0;padding:0}.modus-date-input label{color:var(--modus-input-label-color, #464b52);font-size:0.75rem;font-weight:700;margin-bottom:0.25rem}.modus-date-input label span{color:var(--modus-input-border-color, #6a6e79);margin:0.25rem}.modus-date-input .label-container{display:flex}.modus-date-input .label-container .required{bottom:0.0625rem;color:var(--modus-input-validation-error-color, #da212c);margin-left:0.25rem;position:relative}.modus-date-input .input-container{align-items:center;background-color:var(--modus-input-bg, #fff);border:0.0625rem solid var(--modus-input-border-color, #6a6e79);border-radius:4px;box-sizing:border-box;display:flex;flex-direction:row;height:2rem;position:relative;width:100%}.modus-date-input .input-container input{background-color:transparent;border:none;color:var(--modus-input-color, #252a2e);font-size:0.75rem;outline:none;padding:0 0.5rem;width:100%}.modus-date-input .input-container input.has-right-icon{padding-right:0}.modus-date-input .input-container input::placeholder{color:var(--modus-input-hint-text-color, #a3a6b1)}.modus-date-input .input-container .icons{align-items:center;background-color:var(--modus-input-bg, #fff);border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;font-size:1rem;height:100%;justify-content:center;width:2rem}.modus-date-input .input-container .icons svg.icon-calendar{cursor:pointer !important;padding:0 0.375rem}.modus-date-input .input-container .icons svg.icon-calendar path{fill:var(--modus-date-input-calendar-icon-color, #6a6e79)}.modus-date-input .input-container:hover{cursor:text}.modus-date-input .input-container:focus-within{border-color:var(--modus-input-border-active-color, #217cbb);box-shadow:0 0 0 1px var(--modus-input-border-active-color, #217cbb)}.modus-date-input .input-container:focus-within svg.icon-calendar path{fill:var(--modus-input-border-active-color, #217cbb)}.modus-date-input .input-container.error{border-color:var(--modus-input-validation-error-color, #da212c);box-shadow:0 0 0 1px var(--modus-input-validation-error-color, #da212c)}.modus-date-input .input-container.error svg.icon-calendar path{fill:var(--modus-input-validation-error-color, #da212c)}.modus-date-input .input-container.valid{border-color:var(--modus-input-validation-success-color, #006638);box-shadow:0 0 0 1px var(--modus-input-validation-success-color, #006638)}.modus-date-input .input-container.valid svg.icon-calendar path{fill:var(--modus-input-validation-success-color, #006638)}.modus-date-input .input-container.large{height:3rem}.modus-date-input .input-container.large input{font-size:0.875rem;padding:0 1rem}.modus-date-input .input-container:has(input[readonly]){background-color:var(--modus-input-readonly-bg, #e0e1e9);border-color:transparent}.modus-date-input .sub-text{font-size:0.75rem}.modus-date-input .sub-text:has(label){margin-top:0.25rem}.modus-date-input .sub-text .helper{color:var(--modus-input-label-color, #464b52);display:block;font-weight:600;margin:0}.modus-date-input .sub-text .error{color:var(--modus-input-validation-error-color, #da212c)}.modus-date-input .sub-text .valid{color:var(--modus-input-validation-success-color, #006638)}.modus-date-input span.required{color:var(--modus-input-validation-error-color, #da212c)}.modus-date-input.large{font-size:0.875rem;height:48px}.modus-date-input.disabled{pointer-events:none}.modus-date-input.disabled .input-container{background-color:var(--modus-input-disabled-bg, #e0e1e9);border-color:transparent}.modus-date-input.disabled .input-container svg path{fill:var(--modus-input-disabled-color, #a3a6b1)}.modus-date-input.disabled .input-container .icons{background-color:var(--modus-input-disabled-bg, #e0e1e9);cursor:default}.modus-date-input.disabled .input-container input{background-color:transparent;border-radius:0;color:var(--modus-input-disabled-color, #a3a6b1);height:100%}.modus-date-input input{background-position:right calc(0.375em + 0.1875rem) center;background-repeat:no-repeat;background-size:calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";padding-right:calc(1.5em + 0.75rem)}',yt=vt,xt=class{constructor(e){$(this,e),this.calendarIconClicked=_(this,"calendarIconClicked"),this.dateInputBlur=_(this,"dateInputBlur"),this.valueChange=_(this,"valueChange"),this.valueError=_(this,"valueError"),this.classBySize=new Map([["medium","medium"],["large","large"]]),this._dateInputId=`date-input-${Math.random().toString().slice(2,7)}`,this._altFormatters=[],this.autoFormat=!1,this.allowedCharsRegex=void 0,this.ariaLabel=void 0,this.autoFocusInput=void 0,this.disabled=void 0,this.disableValidation=void 0,this.errorText=void 0,this.internalErrorText=void 0,this.fillerDate=void 0,this.format="mm/dd/yyyy",this.altFormats=void 0,this.helperText=void 0,this.label=void 0,this.placeholder=void 0,this.readOnly=void 0,this.required=void 0,this.showCalendarIcon=void 0,this.size="medium",this.type="single",this.validText=void 0,this.min=void 0,this.max=void 0,this.value=void 0,this._dateDisplay=void 0}handleFillerDateChange(e){this._formatter=new xe(e,this.format)}handleFormatChange(e){this._formatter=new xe(this.fillerDate,e),this.handleValueChange(this.value)}handleAltFormatsChange(e){e&&(this._altFormatters=e.split("|").map(t=>t.trim()).filter(Boolean).map(t=>new xe(this.fillerDate,t)))}handleValueChange(e){this._isEditing||(this._dateDisplay=this._formatter.formatDisplayString(e)),this.valueChange.emit({value:e,type:this.type,inputString:this._dateDisplay})}componentWillLoad(){this.handleFormatChange(this.format),this.handleAltFormatsChange(this.altFormats),this._dateDisplay=this._formatter.formatDisplayString(this.value),this.setDefaultAllowedKeysRegex(this.autoFormat)}async focusInput(){this._dateInput.focus()}async validate(){this.validateInput(this._dateDisplay)}handleCalendarClick(){this.calendarIconClicked.emit({value:this.value,type:this.type,inputString:this._dateDisplay})}handleDefaultKeyDown(e,t){const i=e.code.toUpperCase();(i==="ENTER"||i==="SPACE")&&t()}handleBlur(){this._isEditing=!1,this.updateDateFromAltFormats(),this.validateInput(this._dateDisplay),this.dateInputBlur.emit({value:this.value,type:this.type,inputString:this._dateDisplay})}handleInputKeyPress(e){const t=this.keyIsValidDateCharacter(e.key);return t||e.preventDefault(),t}handleInputKeyDown(e){e.key.toLowerCase()==="enter"&&this.handleBlur()}handleOnInput(e){var t;this._isEditing=!0,e.stopPropagation(),e.preventDefault();const i=(t=e.currentTarget)===null||t===void 0?void 0:t.value;this._dateDisplay=i,this.value=this._formatter.parseDisplayString(i.trim())}clearValidation(){this.internalErrorText=null}updateDateFromAltFormats(){if(this.value){this._dateDisplay=this._formatter.formatDisplayString(this.value);return}if(!this._dateDisplay)return;const e=this._dateDisplay.trim();for(const t of this._altFormatters){const i=t.parseDisplayString(e);if(i){this._dateDisplay=this._formatter.formatDisplayString(i),this.value=i;return}}}keyIsValidDateCharacter(e){return this.allowedCharsRegex?new RegExp(this.allowedCharsRegex).test(e):!0}setDefaultAllowedKeysRegex(e){this.allowedCharsRegex||(this.allowedCharsRegex=e?/\d/gi:/.*/)}validateInput(e){this.disableValidation||this.errorText||(e?!this.value||!this.isValidDate(String(this.value))?(this.internalErrorText="Invalid date",this.valueError.emit(this.internalErrorText)):this.validateMinMax():this.required?(this.internalErrorText="Required",this.valueError.emit(this.internalErrorText)):this.clearValidation())}isValidDate(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())&&t.toISOString().startsWith(e)}validateMinMax(){const e=this._formatter.parseIsoToDate(this.min),t=this._formatter.parseIsoToDate(this.max),i=this._formatter.parseIsoToDate(this.value);e&&e>i?(e.setUTCDate(e.getDate()-1),this.internalErrorText=`Select a date after ${this._formatter.formatDisplayString(e.toISOString())}`,this.valueError.emit(this.internalErrorText)):t&&t<i?(t.setUTCDate(t.getDate()+1),this.internalErrorText=`Select a date before ${this._formatter.formatDisplayString(t.toISOString())}`,this.valueError.emit(this.internalErrorText)):this.clearValidation()}render(){var e;const t=`modus-date-input ${this.disabled?"disabled":""}`,i=this.internalErrorText||this.errorText,n=!i&&this.validText;return l("div",{key:"11748c327dac4ffd55b82a860d6f4d0dee839de3",class:t},this.label||this.required?l("div",{class:"label-container"},this.label?l("label",{htmlFor:this._dateInputId},this.label):null,this.required?l("span",{class:"required"},"*"):null,this.helperText?l("label",{class:"sub-text helper"},this.helperText):null):null,l("div",{key:"ebe2014200739e3174a4f606018dbabe79fc0bac",class:`input-container ${i?"error":this.validText?"valid":""} ${this.classBySize.get(this.size)}`,part:`input-container ${i?"error":this.validText?"valid":""}`},l("input",{key:"dde7167d78b896a0acb6fe86b57c97ee739fb892","aria-invalid":!!i,"aria-label":this.ariaLabel||void 0,"aria-required":(e=this.required)===null||e===void 0?void 0:e.toString(),autofocus:this.autoFocusInput,class:{"has-right-icon":this.showCalendarIcon},disabled:this.disabled,id:this._dateInputId,onBlur:()=>this.handleBlur(),onInput:o=>this.handleOnInput(o),onKeyPress:o=>this.handleInputKeyPress(o),onKeyDown:o=>this.handleInputKeyDown(o),placeholder:this.placeholder,readonly:this.readOnly,ref:o=>this._dateInput=o,tabIndex:0,type:"text",value:this._dateDisplay}),this.showCalendarIcon&&l("span",{class:"icons",tabIndex:0,onKeyDown:o=>this.handleDefaultKeyDown(o,()=>this.handleCalendarClick()),onClick:()=>this.handleCalendarClick(),role:"button","aria-label":"Open calendar"},l(Z,{icon:"calendar",size:"16"}))),l("div",{key:"18caf62b1f4ccd23bd06b5e25cb0a4b4af0681d5",class:"sub-text",part:"sub-text"},i?l("label",{class:"error"},i):n?l("label",{class:"valid"},this.validText):null))}get element(){return he(this)}static get watchers(){return{fillerDate:["handleFillerDateChange"],format:["handleFormatChange"],altFormats:["handleAltFormatsChange"],value:["handleValueChange"]}}};xt.style=yt;const wt=["January","February","March","April","May","June","July","August","September","October","November","December"];class Ct{constructor(t){if(t)this.gotoDate(t.currentDate.getFullYear(),t.currentDate.getMonth());else{const i=new Date;this.gotoDate(i.getFullYear(),i.getMonth())}}get year(){return this.currentDate.getFullYear().toString()}get month(){return wt[this.currentDate.getMonth()]}get selectedYear(){return this.currentDate.getFullYear()}get selectedMonth(){return this.currentDate.getMonth()}get dates(){return this.currentMonthDates}addMonthOffset(t){return this.gotoDate(this.currentDate.getFullYear(),this.currentDate.getMonth()+t),this}addYearOffset(t){return this.gotoDate(this.currentDate.getFullYear()+t,this.currentDate.getMonth()),this}gotoDate(t,i){this.currentDate=new Date(t,i,1),this.calculateDates()}getDaysOfWeek(t,i=0){const n=new Intl.DateTimeFormat(t,{weekday:"short"}),o=new Date("11/01/2020"),a=[];for(let s=i;s<i+7;s++){const r=new Date(o);r.setDate(r.getDate()+s);const d=n.format(r);a.push(d.toUpperCase().startsWith("SA")?d:d.slice(0,2))}return a}calculateDates(){const t=[],i=this.currentDate.getFullYear(),n=this.currentDate.getMonth(),o=new Date(i,n,1);for(;o.getMonth()===n;)t.push(new Date(o)),o.setDate(o.getDate()+1);this.currentMonthDates=t}}class St{constructor(t){var i;this.isOpen=!1,this.element=t,this.element.showCalendarIcon=((i=this.element.showCalendarIcon)===null||i===void 0?void 0:i.toString().toUpperCase())!=="FALSE",this.max=this.parseDate(this.element.max),this.min=this.parseDate(this.element.min),this.refresh()}getDate(){return this.date}getMaxDateAllowed(){return this.max}getMinDateAllowed(){return this.min}setDate(t){if(Number(t)){const i=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");this.element.value=`${i}-${n}-${o}`,this.element.errorText=null,this.element.focusInput(),this.date=t}}setError(t=null){this.element.errorText=t}validateInput(){this.element.validate()}refresh(){this.date=this.parseDate(this.element.value)}parseDate(t){if(!t)return null;const n=new RegExp(Ce).exec(t);return n?(n.shift(),new Date(parseFloat(n[0]),parseFloat(n[1])-1,parseFloat(n[2]))):null}toggleCalendar(t=null){this.isOpen=t!==null?t:!this.isOpen}isCalendarOpen(){return this.isOpen}}const Dt=["top","right","bottom","left"],Ve=["start","end"],Pe=Dt.reduce((e,t)=>e.concat(t,t+"-"+Ve[0],t+"-"+Ve[1]),[]),re=Math.min,U=Math.max,le=Math.round,ae=Math.floor,T=e=>({x:e,y:e}),kt={left:"right",right:"left",bottom:"top",top:"bottom"},It={start:"end",end:"start"};function Be(e,t,i){return U(e,re(t,i))}function W(e,t){return typeof e=="function"?e(t):e}function M(e){return e.split("-")[0]}function B(e){return e.split("-")[1]}function Ie(e){return e==="x"?"y":"x"}function $e(e){return e==="y"?"height":"width"}function H(e){return["top","bottom"].includes(M(e))?"y":"x"}function qe(e){return Ie(H(e))}function Ye(e,t,i){i===void 0&&(i=!1);const n=B(e),o=qe(e),a=$e(o);let s=o==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=ce(s)),[s,ce(s)]}function Ot(e){const t=ce(e);return[de(e),t,de(t)]}function de(e){return e.replace(/start|end/g,t=>It[t])}function Et(e,t,i){const n=["left","right"],o=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return i?t?o:n:t?n:o;case"left":case"right":return t?a:s;default:return[]}}function _t(e,t,i,n){const o=B(e);let a=Et(M(e),i==="start",n);return o&&(a=a.map(s=>s+"-"+o),t&&(a=a.concat(a.map(de)))),a}function ce(e){return e.replace(/left|right|bottom|top/g,t=>kt[t])}function Tt(e){return{top:0,right:0,bottom:0,left:0,...e}}function At(e){return typeof e!="number"?Tt(e):{top:e,right:e,bottom:e,left:e}}function ue(e){const{x:t,y:i,width:n,height:o}=e;return{width:n,height:o,top:i,left:t,right:t+n,bottom:i+o,x:t,y:i}}function Le(e,t,i){let{reference:n,floating:o}=e;const a=H(t),s=qe(t),r=$e(s),d=M(t),c=a==="y",u=n.x+n.width/2-o.width/2,p=n.y+n.height/2-o.height/2,m=n[r]/2-o[r]/2;let h;switch(d){case"top":h={x:u,y:n.y-o.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:p};break;case"left":h={x:n.x-o.width,y:p};break;default:h={x:n.x,y:n.y}}switch(B(t)){case"start":h[s]-=m*(i&&c?-1:1);break;case"end":h[s]+=m*(i&&c?-1:1);break}return h}const Ft=async(e,t,i)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:s}=i,r=a.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:p}=Le(c,n,d),m=n,h={},g=0;for(let b=0;b<r.length;b++){const{name:v,fn:f}=r[b],{x:y,y:x,data:C,reset:w}=await f({x:u,y:p,initialPlacement:n,placement:m,strategy:o,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=y??u,p=x??p,h={...h,[v]:{...h[v],...C}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:u,y:p}=Le(c,m,d)),b=-1)}return{x:u,y:p,placement:m,strategy:o,middlewareData:h}};async function Oe(e,t){var i;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:s,elements:r,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:m=!1,padding:h=0}=W(t,e),g=At(h),v=r[m?p==="floating"?"reference":"floating":p],f=ue(await a.getClippingRect({element:(i=await(a.isElement==null?void 0:a.isElement(v)))==null||i?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(r.floating)),boundary:c,rootBoundary:u,strategy:d})),y=p==="floating"?{x:n,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(r.floating)),C=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=ue(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:r,rect:y,offsetParent:x,strategy:d}):y);return{top:(f.top-w.top+g.top)/C.y,bottom:(w.bottom-f.bottom+g.bottom)/C.y,left:(f.left-w.left+g.left)/C.x,right:(w.right-f.right+g.right)/C.x}}function Rt(e,t,i){return(e?[...i.filter(o=>B(o)===e),...i.filter(o=>B(o)!==e)]:i.filter(o=>M(o)===o)).filter(o=>e?B(o)===e||(t?de(o)!==o:!1):!0)}const Mt=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var i,n,o;const{rects:a,middlewareData:s,placement:r,platform:d,elements:c}=t,{crossAxis:u=!1,alignment:p,allowedPlacements:m=Pe,autoAlignment:h=!0,...g}=W(e,t),b=p!==void 0||m===Pe?Rt(p||null,h,m):m,v=await Oe(t,g),f=((i=s.autoPlacement)==null?void 0:i.index)||0,y=b[f];if(y==null)return{};const x=Ye(y,a,await(d.isRTL==null?void 0:d.isRTL(c.floating)));if(r!==y)return{reset:{placement:b[0]}};const C=[v[M(y)],v[x[0]],v[x[1]]],w=[...((n=s.autoPlacement)==null?void 0:n.overflows)||[],{placement:y,overflows:C}],D=b[f+1];if(D)return{data:{index:f+1,overflows:w},reset:{placement:D}};const R=w.map(S=>{const N=B(S.placement);return[S.placement,N&&u?S.overflows.slice(0,2).reduce((ie,ne)=>ie+ne,0):S.overflows[0],S.overflows]}).sort((S,N)=>S[1]-N[1]),z=((o=R.filter(S=>S[2].slice(0,B(S[0])?2:3).every(N=>N<=0))[0])==null?void 0:o[0])||R[0][0];return z!==r?{data:{index:f+1,overflows:w},reset:{placement:z}}:{}}}},Nt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,n;const{placement:o,middlewareData:a,rects:s,initialPlacement:r,platform:d,elements:c}=t,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...v}=W(e,t);if((i=a.arrow)!=null&&i.alignmentOffset)return{};const f=M(o),y=H(r),x=M(r)===r,C=await(d.isRTL==null?void 0:d.isRTL(c.floating)),w=m||(x||!b?[ce(r)]:Ot(r)),D=g!=="none";!m&&D&&w.push(..._t(r,b,g,C));const R=[r,...w],te=await Oe(t,v),z=[];let S=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&z.push(te[f]),p){const j=Ye(o,s,C);z.push(te[j[0]],te[j[1]])}if(S=[...S,{placement:o,overflows:z}],!z.every(j=>j<=0)){var N,ie;const j=(((N=a.flip)==null?void 0:N.index)||0)+1,be=R[j];if(be){var ne;const V=p==="alignment"?y!==H(be):!1,E=((ne=S[0])==null?void 0:ne.overflows[0])>0;if(!V||E)return{data:{index:j,overflows:S},reset:{placement:be}}}let G=(ie=S.filter(V=>V.overflows[0]<=0).sort((V,E)=>V.overflows[1]-E.overflows[1])[0])==null?void 0:ie.placement;if(!G)switch(h){case"bestFit":{var Fe;const V=(Fe=S.filter(E=>{if(D){const P=H(E.placement);return P===y||P==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(P=>P>0).reduce((P,it)=>P+it,0)]).sort((E,P)=>E[1]-P[1])[0])==null?void 0:Fe[0];V&&(G=V);break}case"initialPlacement":G=r;break}if(o!==G)return{reset:{placement:G}}}return{}}}},Vt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:r={fn:v=>{let{x:f,y}=v;return{x:f,y}}},...d}=W(e,t),c={x:i,y:n},u=await Oe(t,d),p=H(M(o)),m=Ie(p);let h=c[m],g=c[p];if(a){const v=m==="y"?"top":"left",f=m==="y"?"bottom":"right",y=h+u[v],x=h-u[f];h=Be(y,h,x)}if(s){const v=p==="y"?"top":"left",f=p==="y"?"bottom":"right",y=g+u[v],x=g-u[f];g=Be(y,g,x)}const b=r.fn({...t,[m]:h,[p]:g});return{...b,data:{x:b.x-i,y:b.y-n,enabled:{[m]:a,[p]:s}}}}}},Pt=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:i,y:n,placement:o,rects:a,middlewareData:s}=t,{offset:r=0,mainAxis:d=!0,crossAxis:c=!0}=W(e,t),u={x:i,y:n},p=H(o),m=Ie(p);let h=u[m],g=u[p];const b=W(r,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const x=m==="y"?"height":"width",C=a.reference[m]-a.floating[x]+v.mainAxis,w=a.reference[m]+a.reference[x]-v.mainAxis;h<C?h=C:h>w&&(h=w)}if(c){var f,y;const x=m==="y"?"width":"height",C=["top","left"].includes(M(o)),w=a.reference[p]-a.floating[x]+(C&&((f=s.offset)==null?void 0:f[p])||0)+(C?0:v.crossAxis),D=a.reference[p]+a.reference[x]+(C?0:((y=s.offset)==null?void 0:y[p])||0)-(C?v.crossAxis:0);g<w?g=w:g>D&&(g=D)}return{[m]:h,[p]:g}}}};function me(){return typeof window<"u"}function X(e){return We(e)?(e.nodeName||"").toLowerCase():"#document"}function k(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function F(e){var t;return(t=(We(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function We(e){return me()?e instanceof Node||e instanceof k(e).Node:!1}function I(e){return me()?e instanceof Element||e instanceof k(e).Element:!1}function A(e){return me()?e instanceof HTMLElement||e instanceof k(e).HTMLElement:!1}function ze(e){return!me()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof k(e).ShadowRoot}function ee(e){const{overflow:t,overflowX:i,overflowY:n,display:o}=O(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(o)}function Bt(e){return["table","td","th"].includes(X(e))}function fe(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ee(e){const t=_e(),i=I(e)?O(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>i[n]?i[n]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(i.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(i.contain||"").includes(n))}function Lt(e){let t=L(e);for(;A(t)&&!J(t);){if(Ee(t))return t;if(fe(t))return null;t=L(t)}return null}function _e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function J(e){return["html","body","#document"].includes(X(e))}function O(e){return k(e).getComputedStyle(e)}function ge(e){return I(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function L(e){if(X(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ze(e)&&e.host||F(e);return ze(t)?t.host:t}function Je(e){const t=L(e);return J(t)?e.ownerDocument?e.ownerDocument.body:e.body:A(t)&&ee(t)?t:Je(t)}function Q(e,t,i){var n;t===void 0&&(t=[]),i===void 0&&(i=!0);const o=Je(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),s=k(o);if(a){const r=Se(s);return t.concat(s,s.visualViewport||[],ee(o)?o:[],r&&i?Q(r):[])}return t.concat(o,Q(o,[],i))}function Se(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xe(e){const t=O(e);let i=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=A(e),a=o?e.offsetWidth:i,s=o?e.offsetHeight:n,r=le(i)!==a||le(n)!==s;return r&&(i=a,n=s),{width:i,height:n,$:r}}function Te(e){return I(e)?e:e.contextElement}function Y(e){const t=Te(e);if(!A(t))return T(1);const i=t.getBoundingClientRect(),{width:n,height:o,$:a}=Xe(t);let s=(a?le(i.width):i.width)/n,r=(a?le(i.height):i.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!r||!Number.isFinite(r))&&(r=1),{x:s,y:r}}const zt=T(0);function Ge(e){const t=k(e);return!_e()||!t.visualViewport?zt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jt(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==k(e)?!1:t}function K(e,t,i,n){t===void 0&&(t=!1),i===void 0&&(i=!1);const o=e.getBoundingClientRect(),a=Te(e);let s=T(1);t&&(n?I(n)&&(s=Y(n)):s=Y(e));const r=jt(a,i,n)?Ge(a):T(0);let d=(o.left+r.x)/s.x,c=(o.top+r.y)/s.y,u=o.width/s.x,p=o.height/s.y;if(a){const m=k(a),h=n&&I(n)?k(n):n;let g=m,b=Se(g);for(;b&&n&&h!==g;){const v=Y(b),f=b.getBoundingClientRect(),y=O(b),x=f.left+(b.clientLeft+parseFloat(y.paddingLeft))*v.x,C=f.top+(b.clientTop+parseFloat(y.paddingTop))*v.y;d*=v.x,c*=v.y,u*=v.x,p*=v.y,d+=x,c+=C,g=k(b),b=Se(g)}}return ue({width:u,height:p,x:d,y:c})}function Ae(e,t){const i=ge(e).scrollLeft;return t?t.left+i:K(F(e)).left+i}function Ze(e,t,i){i===void 0&&(i=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(i?0:Ae(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function Ut(e){let{elements:t,rect:i,offsetParent:n,strategy:o}=e;const a=o==="fixed",s=F(n),r=t?fe(t.floating):!1;if(n===s||r&&a)return i;let d={scrollLeft:0,scrollTop:0},c=T(1);const u=T(0),p=A(n);if((p||!p&&!a)&&((X(n)!=="body"||ee(s))&&(d=ge(n)),A(n))){const h=K(n);c=Y(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const m=s&&!p&&!a?Ze(s,d,!0):T(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-d.scrollLeft*c.x+u.x+m.x,y:i.y*c.y-d.scrollTop*c.y+u.y+m.y}}function Ht(e){return Array.from(e.getClientRects())}function Kt(e){const t=F(e),i=ge(e),n=e.ownerDocument.body,o=U(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=U(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-i.scrollLeft+Ae(e);const r=-i.scrollTop;return O(n).direction==="rtl"&&(s+=U(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:s,y:r}}function $t(e,t){const i=k(e),n=F(e),o=i.visualViewport;let a=n.clientWidth,s=n.clientHeight,r=0,d=0;if(o){a=o.width,s=o.height;const c=_e();(!c||c&&t==="fixed")&&(r=o.offsetLeft,d=o.offsetTop)}return{width:a,height:s,x:r,y:d}}function qt(e,t){const i=K(e,!0,t==="fixed"),n=i.top+e.clientTop,o=i.left+e.clientLeft,a=A(e)?Y(e):T(1),s=e.clientWidth*a.x,r=e.clientHeight*a.y,d=o*a.x,c=n*a.y;return{width:s,height:r,x:d,y:c}}function je(e,t,i){let n;if(t==="viewport")n=$t(e,i);else if(t==="document")n=Kt(F(e));else if(I(t))n=qt(t,i);else{const o=Ge(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ue(n)}function Qe(e,t){const i=L(e);return i===t||!I(i)||J(i)?!1:O(i).position==="fixed"||Qe(i,t)}function Yt(e,t){const i=t.get(e);if(i)return i;let n=Q(e,[],!1).filter(r=>I(r)&&X(r)!=="body"),o=null;const a=O(e).position==="fixed";let s=a?L(e):e;for(;I(s)&&!J(s);){const r=O(s),d=Ee(s);!d&&r.position==="fixed"&&(o=null),(a?!d&&!o:!d&&r.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ee(s)&&!d&&Qe(e,s))?n=n.filter(u=>u!==s):o=r,s=L(s)}return t.set(e,n),n}function Wt(e){let{element:t,boundary:i,rootBoundary:n,strategy:o}=e;const s=[...i==="clippingAncestors"?fe(t)?[]:Yt(t,this._c):[].concat(i),n],r=s[0],d=s.reduce((c,u)=>{const p=je(t,u,o);return c.top=U(p.top,c.top),c.right=re(p.right,c.right),c.bottom=re(p.bottom,c.bottom),c.left=U(p.left,c.left),c},je(t,r,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Jt(e){const{width:t,height:i}=Xe(e);return{width:t,height:i}}function Xt(e,t,i){const n=A(t),o=F(t),a=i==="fixed",s=K(e,!0,a,t);let r={scrollLeft:0,scrollTop:0};const d=T(0);function c(){d.x=Ae(o)}if(n||!n&&!a)if((X(t)!=="body"||ee(o))&&(r=ge(t)),n){const h=K(t,!0,a,t);d.x=h.x+t.clientLeft,d.y=h.y+t.clientTop}else o&&c();a&&!n&&o&&c();const u=o&&!n&&!a?Ze(o,r):T(0),p=s.left+r.scrollLeft-d.x-u.x,m=s.top+r.scrollTop-d.y-u.y;return{x:p,y:m,width:s.width,height:s.height}}function we(e){return O(e).position==="static"}function Ue(e,t){if(!A(e)||O(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return F(e)===i&&(i=i.ownerDocument.body),i}function et(e,t){const i=k(e);if(fe(e))return i;if(!A(e)){let o=L(e);for(;o&&!J(o);){if(I(o)&&!we(o))return o;o=L(o)}return i}let n=Ue(e,t);for(;n&&Bt(n)&&we(n);)n=Ue(n,t);return n&&J(n)&&we(n)&&!Ee(n)?i:n||Lt(e)||i}const Gt=async function(e){const t=this.getOffsetParent||et,i=this.getDimensions,n=await i(e.floating);return{reference:Xt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Zt(e){return O(e).direction==="rtl"}const Qt={convertOffsetParentRelativeRectToViewportRelativeRect:Ut,getDocumentElement:F,getClippingRect:Wt,getOffsetParent:et,getElementRects:Gt,getClientRects:Ht,getDimensions:Jt,getScale:Y,isElement:I,isRTL:Zt};function tt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ei(e,t){let i=null,n;const o=F(e);function a(){var r;clearTimeout(n),(r=i)==null||r.disconnect(),i=null}function s(r,d){r===void 0&&(r=!1),d===void 0&&(d=1),a();const c=e.getBoundingClientRect(),{left:u,top:p,width:m,height:h}=c;if(r||t(),!m||!h)return;const g=ae(p),b=ae(o.clientWidth-(u+m)),v=ae(o.clientHeight-(p+h)),f=ae(u),x={rootMargin:-g+"px "+-b+"px "+-v+"px "+-f+"px",threshold:U(0,re(1,d))||1};let C=!0;function w(D){const R=D[0].intersectionRatio;if(R!==d){if(!C)return s();R?s(!1,R):n=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!tt(c,e.getBoundingClientRect())&&s(),C=!1}try{i=new IntersectionObserver(w,{...x,root:o.ownerDocument})}catch{i=new IntersectionObserver(w,x)}i.observe(e)}return s(!0),a}function ti(e,t,i,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,c=Te(e),u=o||a?[...c?Q(c):[],...Q(t)]:[];u.forEach(f=>{o&&f.addEventListener("scroll",i,{passive:!0}),a&&f.addEventListener("resize",i)});const p=c&&r?ei(c,i):null;let m=-1,h=null;s&&(h=new ResizeObserver(f=>{let[y]=f;y&&y.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),i()}),c&&!d&&h.observe(c),h.observe(t));let g,b=d?K(e):null;d&&v();function v(){const f=K(e);b&&!tt(b,f)&&i(),b=f,g=requestAnimationFrame(v)}return i(),()=>{var f;u.forEach(y=>{o&&y.removeEventListener("scroll",i),a&&y.removeEventListener("resize",i)}),p==null||p(),(f=h)==null||f.disconnect(),h=null,d&&cancelAnimationFrame(g)}}const ii=Mt,ni=Vt,oi=Nt,si=Pt,ai=(e,t,i)=>{const n=new Map,o={platform:Qt,...i},a={...o.platform,_c:n};return Ft(e,t,{...o,platform:a})},ri='.modus-date-picker{display:inline-flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";position:relative;width:100%}.modus-date-picker .date-inputs{display:grid;grid-gap:0.5rem;grid-template-columns:auto auto}.modus-date-picker button{background:0;border:0;cursor:pointer;display:inline-flex;margin:0;padding:0}.modus-date-picker button.disabled{cursor:default}.modus-date-picker .label-container{display:flex}.modus-date-picker .label-container label{color:var(--modus-input-label-color, #464b52);font-size:0.75rem;margin-bottom:0.25rem}.modus-date-picker .input-container input{font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.modus-date-picker .calendar-container{background-color:var(--modus-date-picker-calendar-body-bg, #fff);border-radius:4px;box-shadow:0 0 4px rgba(0, 0, 0, 0.1607843137);display:flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";left:0;position:absolute;top:0;width:max-content;z-index:1}.modus-date-picker .calendar-container[data-popper-reference-hidden]{pointer-events:none;visibility:hidden}.modus-date-picker .calendar-container .calendar-header{align-items:center;background-color:var(--modus-date-picker-calendar-header-bg, #0063a3);border-top-left-radius:4px;border-top-right-radius:4px;color:var(--modus-date-picker-calendar-header-color, #fff);display:flex;font:normal normal 600 16px/22px "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";height:40px;justify-content:space-around;letter-spacing:0;opacity:1;text-align:center;width:100%}.modus-date-picker .calendar-container .calendar-header svg path{fill:var(--modus-date-picker-calendar-header-color, #fff)}.modus-date-picker .calendar-container .calendar-header .title{align-items:center;display:inline-flex;justify-content:center}.modus-date-picker .calendar-container .calendar-header .calendar-title:focus+.year-icons,.modus-date-picker .calendar-container .calendar-header .calendar-title:hover+.year-icons,.modus-date-picker .calendar-container .calendar-header .calendar-title:active+.year-icons,.modus-date-picker .calendar-container .calendar-header .year-icons:hover,.modus-date-picker .calendar-container .calendar-header .year-icons:focus,.modus-date-picker .calendar-container .calendar-header .year-icons:focus-within{opacity:1 !important}.modus-date-picker .calendar-container .calendar-header .year-icons{display:inline-flex;flex-direction:column;margin-left:0.5rem;opacity:0}.modus-date-picker .calendar-container .calendar-header .year-icons button:active{opacity:0.5}.modus-date-picker .calendar-container .calendar-body{align-items:center;display:flex;flex-direction:column;font-size:0.875rem;justify-content:center;padding:1rem}.modus-date-picker .calendar-container .calendar-body .grid{display:grid;grid-template-columns:repeat(7, 1fr);text-align:center}.modus-date-picker .calendar-container .calendar-body .grid .grid-item{align-items:center;display:flex;height:32px;justify-content:center;width:32px}.modus-date-picker .calendar-container .calendar-body .out-of-range-notification{margin-top:0.6rem;text-align:center}.modus-date-picker .calendar-container .calendar-body .goto-available-dates{color:var(--modus-link-color, #217cbb);cursor:pointer}.modus-date-picker .calendar-container .calendar-body .calendar-days-week{color:var(--modus-date-picker-calendar-day-week-color, #363545);font:normal normal bold 14px/19px "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";letter-spacing:0;opacity:1;text-align:center}.modus-date-picker .calendar-container .calendar-body .calendar-day{color:var(--modus-date-picker-calendar-day-color, #252a2e);font:normal normal normal 14px/19px "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";letter-spacing:0;opacity:1;text-align:center}.modus-date-picker .calendar-container .calendar-body .calendar-day:hover{background:var(--modus-date-picker-calendar-day-hover-bg, #e0e1e9) 0% 0% no-repeat padding-box !important;border-radius:16px}.modus-date-picker .calendar-container .calendar-body .calendar-day.current-day{background:var(--modus-date-picker-calendar-body-bg, #fff) 0% 0% no-repeat padding-box;border:2px solid var(--modus-date-picker-calendar-day-current-border-color, #217cbb);border-radius:16px}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected{background:var(--modus-date-picker-calendar-day-selected-bg, #217cbb) 0% 0% no-repeat padding-box;border-radius:16px;color:var(--modus-date-picker-calendar-day-selected-color, #fff)}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.start::after,.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.end::after{background-color:var(--modus-date-picker-calendar-day-selected-range-bg, #dcedf9);content:"";height:32px;position:absolute;width:32px;z-index:-1}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.start::after{border-radius:50% 0 0 50% !important}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.end::after{border-radius:0 50% 50% 0 !important}.modus-date-picker .calendar-container .calendar-body .calendar-day.disabled{opacity:var(--modus-date-picker-calendar-day-disabled-opacity, 0.3);pointer-events:none}.modus-date-picker .calendar-container .calendar-body .calendar-day.range-selected{background:var(--modus-date-picker-calendar-day-selected-range-bg, #dcedf9) 0% 0% no-repeat padding-box}.modus-date-picker .calendar-container .calendar-body .calendar-day.range-selected:hover::before,.modus-date-picker .calendar-container .calendar-body .calendar-day.range-selected.current-day::before{background:var(--modus-date-picker-calendar-day-selected-range-bg, #dcedf9) 0% 0% no-repeat padding-box;content:"";height:32px;position:absolute;width:32px;z-index:-1}.modus-date-picker .calendar-container .calendar-body .calendar-month{position:absolute}.modus-date-picker .calendar-container .calendar-body .calendar-month.invalid-date-range .start::after,.modus-date-picker .calendar-container .calendar-body .calendar-month.invalid-date-range .end::after{opacity:0}.modus-date-picker .calendar-container .calendar-body .calendar-month-container{display:flex;height:180px;justify-content:center;position:relative}',li=ri,di=class{constructor(e){$(this,e),this._dateInputs={},this._locale="default",this.cleanupPopover=void 0,this.isInvalidDateRange=(t,i)=>this.compare(i,t)<0,this.label=void 0,this.position="bottom-start",this.isDateEnabled=void 0,this._forceUpdate={},this._showCalendar=!1,this._showYearArrows=!1}get _currentInput(){return Object.values(this._dateInputs).find(e=>e.isCalendarOpen())}componentWillLoad(){this._calendar=new Ct}componentDidUpdate(){var e;this._showCalendar?this.configureCalendarPopover():(e=this.cleanupPopover)===null||e===void 0||e.call(this)}disconnectedCallback(){var e;(e=this.cleanupPopover)===null||e===void 0||e.call(this)}configureCalendarPopover(){const e=this.element.shadowRoot.querySelector(".calendar"),t=this.element.shadowRoot.querySelector(".calendar-container");this.cleanupPopover=ti(e,t,()=>{const i={},n=[];if(n.push(ni({limiter:si()})),this.position.includes("auto")){const o={};if(this.position.includes("-")){const[,a]=this.position.split("-");o.alignment=a}n.push(ii(o))}else i.placement=this.position,n.push(oi());this.position==="auto"&&(i.strategy="fixed"),i.middleware=n,ai(e,t,i).then(({x:o,y:a})=>{Object.assign(t.style,{left:`${o}px`,top:`${a}px`})})})}handleCalendarIconClick(e){const{type:t}=e.detail;Object.keys(this._dateInputs).forEach(i=>this._dateInputs[i].toggleCalendar(i===t?null:!1)),this.toggleCalendar(),this._showCalendar&&this.gotoDateBeingPicked(this._dateInputs[t].getDate()),this.forceUpdate()}handleClickOutside(e){e.composedPath().includes(this.element)||e.defaultPrevented||this.toggleCalendar(!1)}handleDateInputValue(e){const{type:t}=e.detail;this._dateInputs[t]&&(this._dateInputs[t].refresh(),this._showCalendar&&this.gotoDateBeingPicked(this._dateInputs[t].getDate()),this.forceUpdate())}handleDateInputBlur(){var e,t;this.applyDateRangeRules((e=this._dateInputs.start)===null||e===void 0?void 0:e.getDate(),(t=this._dateInputs.end)===null||t===void 0?void 0:t.getDate())}handleSlotChange(){const e=Array.from(this.element.querySelectorAll("modus-date-input"));e==null||e.forEach(t=>{this._dateInputs[t.type]=new St(t)})}addMonthOffset(e){this._calendar.addMonthOffset(e),this.forceUpdate()}addYearOffset(e){this._calendar.addYearOffset(e),this.forceUpdate()}applyDateRangeRules(e,t){!e||!t||(this.isInvalidDateRange(e,t)?(this._dateInputs.start.setError("Invalid date range"),this._dateInputs.end.setError()):(this._dateInputs.start.setError(""),this._dateInputs.end.setError(""),this._dateInputs.start.validateInput(),this._dateInputs.end.validateInput()))}compare(e,t){if(!e&&!t)return 0;if(!e&&t)return-1;if(e&&!t)return 1;let i;return i=e.getFullYear()-t.getFullYear(),i!==0||(i=e.getMonth()-t.getMonth(),i!==0)?i:e.getDate()-t.getDate()}forceUpdate(){this._forceUpdate=Object.assign({},this._forceUpdate)}findDatePositionsInARange(e,t,i){return{start:t&&this.compare(e,t)===0,end:i&&this.compare(e,i)===0,"in-range":t&&i&&this.compare(e,t)>0&&this.compare(e,i)<0}}gotoDateBeingPicked(e){if(!this._showCalendar)return;const t=e||new Date;this._calendar.gotoDate(t.getFullYear(),t.getMonth())}goToNearestBoundaryDate(e){var t,i;const n=(t=this._currentInput)===null||t===void 0?void 0:t.getMinDateAllowed(),o=(i=this._currentInput)===null||i===void 0?void 0:i.getMaxDateAllowed(),a=this.compare(e,n)<0?n:o;this.gotoDateBeingPicked(a),this.forceUpdate()}pickCalendarDate(e){this._currentInput.setDate(e),this.toggleCalendar(!1)}showYearChange(e=!0){this._showYearArrows=e}isWithinCurrentMinMax(e){var t,i;const n=(t=this._currentInput)===null||t===void 0?void 0:t.getMaxDateAllowed(),o=(i=this._currentInput)===null||i===void 0?void 0:i.getMinDateAllowed();return!(!e||o&&this.compare(e,o)<0||n&&this.compare(e,n)>0)}toggleCalendar(e=null){e!==null?(this._showCalendar=e,this._showCalendar||Object.keys(this._dateInputs||{}).forEach(t=>{this._dateInputs[t].toggleCalendar(!1)})):this._showCalendar=!!Object.values(this._dateInputs).find(t=>t.isCalendarOpen())}renderCalendarBody(){var e,t,i,n;const o=new Date,a=(e=this._dateInputs.start)===null||e===void 0?void 0:e.getDate(),s=(t=this._dateInputs.end)===null||t===void 0?void 0:t.getDate(),r=(i=this._dateInputs.single)===null||i===void 0?void 0:i.getDate(),d=(n=new Date(this._calendar.selectedYear,this._calendar.selectedMonth))===null||n===void 0?void 0:n.getDay(),c=new Array(d).fill(0);return l("div",{class:"calendar-body"},l("div",{class:"calendar-days-week grid"},this._calendar.getDaysOfWeek(this._locale).map(u=>l("div",{class:"grid-item"},u))),l("div",{class:"calendar-month-container"},l("div",{class:{"calendar-month grid":!0,"invalid-date-range":this.isInvalidDateRange(a,s)}},c&&c.length>0&&c.map(()=>l("button",{class:{"calendar-day grid-item":!1,disabled:!0},disabled:!0,tabIndex:-1},"")),this._calendar.dates.map((u,p)=>{if(!u)return null;const m=this.findDatePositionsInARange(u,a,s),h=m.start,g=m.end,b=this.compare(u,o)===0,v=r&&this.compare(u,r)===0,f=h||g||v,y=f?!1:m["in-range"],x=!this.isWithinCurrentMinMax(u),C=this.isDateEnabled?this.isDateEnabled(u.toISOString()):!0,w=p===this._calendar.dates.length-1?{onBlur:()=>{this.toggleCalendar(!1)}}:{},D=x||!C;return l("button",Object.assign({class:{"calendar-day grid-item":!0,selected:f,disabled:D,start:h&&!g,end:g&&!h,"current-day":b,"range-selected":y},disabled:D,tabIndex:0,type:"button","aria-current":f?"date":void 0,onClick:()=>this.pickCalendarDate(u)},w),u.getDate())}))),!this.isWithinCurrentMinMax(this._currentInput.getDate())&&l("div",{class:"out-of-range-notification"},l("div",null,"The selected date is not available"),l("span",{class:"goto-available-dates",onClick:()=>this.goToNearestBoundaryDate(this._currentInput.getDate())},"Go to available dates")))}renderCalendarHeader(){var e,t;return l("div",{class:"calendar-header"},l("button",{type:"button","aria-label":"Previous Month",onClick:()=>this.addMonthOffset(-1)},l(Z,{icon:"chevron_left_bold"})),l("div",{class:"title"},l("div",{class:"calendar-title",role:"heading"},`${(e=this._calendar)===null||e===void 0?void 0:e.month} ${(t=this._calendar)===null||t===void 0?void 0:t.year}`),l("div",{class:"year-icons"},l("button",{type:"button",tabIndex:0,"aria-label":"Next Year",onClick:()=>this.addYearOffset(1),class:"year-up"},l(Z,{icon:"caret_up",size:"16"})),l("button",{type:"button",tabIndex:0,"aria-label":"Previous Year",onClick:()=>this.addYearOffset(-1),class:"year-down"},l(Z,{size:"16",icon:"caret_down"})))),l("button",{type:"button",tabIndex:0,"aria-label":"Next Month",onClick:()=>this.addMonthOffset(1)},l(Z,{icon:"chevron_right_bold"})))}render(){return l("div",{key:"296f45926a5e4e7faf415fafa9ad149c56661f9e",class:"modus-date-picker"},this.label?l("div",{class:"label-container"},this.label?l("label",null,this.label):null):null,l("div",{key:"7ac0f29be1e1ad25531a24714dd520050c7d4604",class:"date-inputs",part:"date-inputs"},l("slot",{key:"b40cf940b60aa59f452b2da88e07bd8ebb5d418b",onSlotchange:()=>this.handleSlotChange()})),l("div",{key:"fc6cb1a09499860ae721fc96b757fb67f67a4fc7",class:"calendar",part:"calendar",style:{display:"inline-flex"}},this._showCalendar&&l("nav",{class:"calendar-container","aria-label":"Pick a Date"},this.renderCalendarHeader(),this.renderCalendarBody())))}get element(){return he(this)}};di.style=li;const ci='.modus-number-input{display:inline-flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";width:100%}.modus-number-input label{color:var(--modus-input-label-color, #464b52);font-size:0.75rem;font-weight:700;margin-bottom:0.25rem}.modus-number-input label span{color:var(--modus-input-border-color, #6a6e79);margin:0.25rem}.modus-number-input .label-container{align-items:baseline;display:inline-block;margin-bottom:0.25rem}.modus-number-input .label-container .required{color:var(--modus-input-validation-error-color, #da212c);margin-left:0.25rem}.modus-number-input .input-container{align-items:center;background-color:var(--modus-input-bg, #fff);border:0.0625rem solid var(--modus-input-border-color, #6a6e79);border-radius:4px;display:flex;flex-direction:row;height:32px}.modus-number-input .input-container input{background-color:transparent;border:none;color:var(--modus-input-color, #252a2e);font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";outline:0;padding:0 0.5rem;width:100%}.modus-number-input .input-container input.text-align-right{padding-right:0;text-align:right}.modus-number-input .input-container input::placeholder{color:var(--modus-input-hint-text-color, #a3a6b1)}.modus-number-input .input-container:focus-within{border-color:var(--modus-input-border-active-color, #217cbb);box-shadow:0 0 0 1px var(--modus-input-border-active-color, #217cbb)}.modus-number-input .input-container.error{border-color:var(--modus-input-validation-error-color, #da212c);box-shadow:0 0 0 1px var(--modus-input-validation-error-color, #da212c)}.modus-number-input .input-container.valid{border-color:var(--modus-input-validation-success-color, #006638);box-shadow:0 0 0 1px var(--modus-input-validation-success-color, #006638)}.modus-number-input .input-container.large{height:48px}.modus-number-input .input-container.large input{font-size:0.875rem;height:47px;padding:0 1rem}.modus-number-input .input-container:has(input[readonly]){background-color:var(--modus-input-readonly-bg, #e0e1e9);border-color:var(--modus-input-disabled-bottom-line-color, #a3a6b1)}.modus-number-input .sub-text{font-size:0.75rem;margin-top:0.25rem}.modus-number-input .sub-text.helper{color:var(--modus-input-label-color, #464b52);display:block;font-weight:600;margin:0}.modus-number-input .sub-text.error{color:var(--modus-input-validation-error-color, #da212c)}.modus-number-input .sub-text.valid{color:var(--modus-input-validation-success-color, #006638)}.modus-number-input.disabled{pointer-events:none}.modus-number-input.disabled .input-container{background-color:var(--modus-input-disabled-bg, #e0e1e9);border-color:transparent}.modus-number-input.disabled .input-container input{background-color:transparent;color:var(--modus-input-disabled-color, #a3a6b1)}',ui=ci,hi=class{constructor(e){$(this,e),this.valueChange=_(this,"valueChange"),this.inputId=De()+"_number-input",this.inputFocused=!1,this.classBySize=new Map([["medium","medium"],["large","large"]]),this.handleOnBlur=()=>{(this.currency||this.locale)&&(this.inputFocused=!1,this.formattedValue=this.getFormattedValue(),this.input.type="text",this.input.value=this.formattedValue)},this.handleOnFocus=()=>{(this.currency||this.locale)&&(this.inputFocused=!0,this.input.value=this.value!==void 0?this.value:"",this.input.type="number")},this.formattedValue=this.getFormattedValue(),this.ariaLabel=void 0,this.currency=void 0,this.disabled=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.locale=void 0,this.maxValue=void 0,this.minValue=void 0,this.placeholder=void 0,this.readOnly=void 0,this.required=void 0,this.size="medium",this.step=void 0,this.textAlign="left",this.validText=void 0,this.value=void 0}handleOnInput(){this.value=this.input.value,this.valueChange.emit(this.value)}async focusInput(){this.input.focus()}watchValue(e,t){isNaN(+e)?this.value=t:this.value=e,(this.currency||this.locale)&&!this.inputFocused&&(this.formattedValue=this.getFormattedValue())}getFormattedValue(){const e=parseFloat((this.value!==void 0?this.value:"").replace(/[^0-9.-]+/g,""));if(!(this===null||this===void 0)&&this.value){let t;return this.currency&&this.locale?t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency}).format(e):this.currency?t=new Intl.NumberFormat(void 0,{style:"currency",currency:this.currency}).format(e):this.locale?t=new Intl.NumberFormat(this.locale).format(e):t=e.toString(),t}return""}render(){var e;const t=`text-align-${this.textAlign}`,i=()=>{const s=[];return s.push("modus-number-input"),this.disabled&&s.push("disabled"),s.join(" ")},n=()=>{const s=[];return s.push("input-container"),s.push(this.classBySize.get(this.size)),this.errorText&&s.push("error"),this.validText&&s.push("valid"),s.join(" ")},o=this.currency||this.locale?"text":"number",a=o==="number"?{ariaValuemax:this.maxValue!==void 0?this.maxValue.toString():void 0,ariaValuemin:this.minValue!==void 0?this.minValue.toString():void 0,ariaValuenow:this.value?parseFloat(this.value).toString():void 0}:{};return l("div",{class:i()},this.label||this.required?l("div",{class:"label-container"},this.label?l("label",{htmlFor:this.inputId},this.label):null,this.required?l("span",{class:"required"},"*"):null,this.helperText?l("label",{class:"sub-text helper"},this.helperText):null):null,l("div",{class:n(),part:"input-container"},l("input",Object.assign({id:this.inputId,"aria-label":this.ariaLabel,"aria-invalid":!!this.errorText,"aria-required":(e=this.required)===null||e===void 0?void 0:e.toString(),class:t,disabled:this.disabled,max:this.maxValue,min:this.minValue,onInput:()=>this.handleOnInput(),onFocusin:this.handleOnFocus,onBlur:this.handleOnBlur,placeholder:this.placeholder,readonly:this.readOnly,ref:s=>this.input=s,step:this.step,tabIndex:0,type:o,value:o==="text"?this.formattedValue:this.value},a))),this.errorText?l("label",{class:"sub-text error"},this.errorText):this.validText?l("label",{class:"sub-text valid"},this.validText):null)}static get watchers(){return{value:["watchValue"]}}};hi.style=ui;const pi=`:host{color:var(--modus-input-color, #252a2e);font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";position:relative}:host .label-container{align-items:baseline;display:flex}:host .label-container label{color:var(--modus-input-label-color, #464b52);font-size:0.75rem;font-weight:700;margin:0 0.25rem 0.25rem 0}:host .label-container .required{color:var(--modus-input-validation-error-color, #da212c)}:host .input-container{position:relative}:host .input-container:hover{cursor:pointer}:host .input-container select{align-items:center;appearance:none;background-color:var(--modus-input-bg, #fff);background-image:var(--modus-select-bg-image, url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"%3e%3cpath fill="none" stroke="%231b1a26" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m2 5 6 6 6-6"/%3e%3c/svg>'));background-position:right 0.5rem center;background-repeat:no-repeat;background-size:16px 12px;border:solid 0.0625rem var(--modus-input-border-color, #6a6e79);border-radius:4px;color:var(--modus-input-color, #464b52);display:flex;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:0.75rem;height:2rem;padding-left:0.625rem;padding-right:2rem;position:relative;width:100%}:host .input-container select.disabled{background-color:var(--modus-input-disabled-bg, #e0e1e9);border-color:transparent}:host .input-container select:hover{cursor:pointer}:host .input-container select:focus{outline:none}:host .input-container select:focus-within{border-color:var(--modus-input-border-active-color, #217cbb);box-shadow:0 0 0 1px var(--modus-input-border-active-color, #217cbb)}:host .input-container select.large{font-size:0.875rem;height:3rem}:host .input-container select.error{border-color:var(--modus-input-validation-error-color, #da212c);box-shadow:0 0 0 1px var(--modus-input-validation-error-color, #da212c)}:host .input-container select.valid{border-color:var(--modus-input-validation-success-color, #006638);box-shadow:0 0 0 1px var(--modus-input-validation-success-color, #006638)}:host .input-container select.fit-parent{border:none;height:inherit}:host .sub-text{font-size:0.75rem;margin-top:0.25rem}:host .sub-text.helper{color:var(--modus-input-label-color, #464b52)}:host .sub-text.error{color:var(--modus-input-validation-error-color, #da212c)}:host .sub-text.valid{color:var(--modus-input-validation-success-color, #006638)}`,mi=pi,fi=class{constructor(e){$(this,e),this.valueChange=_(this,"valueChange"),this.inputBlur=_(this,"inputBlur"),this.selectId=De()+"_select",this.classBySize=new Map([["medium","medium"],["large","large"]]),this.ariaLabel=void 0,this.disabled=void 0,this.errorText=void 0,this.helperText=void 0,this.label=void 0,this.options=[],this.optionsDisplayProp=void 0,this.placeholder="Please Select",this.required=void 0,this.size="medium",this.validText=void 0,this.value=void 0,this.internalValue=void 0,this.optionIdMap=new Map}handleValueChange(e){this.internalValue=e}async focusInput(){this.selectInput.focus()}connectedCallback(){this.internalValue=this.value}handleOptionSelect(e){this.valueChange.emit(e)}handleSelectChange(e){const i=e.target.value,n=this.optionIdMap.get(i);this.handleOptionSelect(n)}renderSubText(){return this.errorText?l("label",{class:"sub-text error"},this.errorText):this.validText?l("label",{class:"sub-text valid"},this.validText):this.helperText?l("label",{class:"sub-text helper"},this.helperText):null}renderLabel(){return this.label||this.required?l("div",{class:"label-container"},this.label?l("label",{htmlFor:this.selectId},this.label):null,this.required?l("span",{class:"required"},"*"):null):null}renderOptions(){var e;return(e=this.options)===null||e===void 0?void 0:e.map(t=>{const i=nt();return this.optionIdMap.set(i,t),l("option",{value:i,key:i,selected:t[this.optionsDisplayProp]===this.internalValue},t[this.optionsDisplayProp])})}render(){var e;const t=`${this.classBySize.get(this.size)} ${this.errorText?"error":this.validText?"valid":this.disabled?"disabled":""}`;return l("div",{key:"ab38018e065d411d799c8c79d517ed0342a5fae8",class:this.disabled?"disabled":void 0},this.renderLabel(),l("span",{key:"ad4acad2bfd52ac2ae4e9408d70d9a8e8a92d121",class:"input-container"},l("select",{key:"e9c56542b567e6a638c00854ac8b7275a56b2256",part:"input",ref:i=>this.selectInput=i,disabled:this.disabled,id:this.selectId,class:t,"aria-label":this.ariaLabel||void 0,onBlur:i=>this.inputBlur.emit(i),onChange:i=>{this.handleSelectChange(i)},"aria-invalid":!!this.errorText,"aria-required":(e=this.required)===null||e===void 0?void 0:e.toString()},l("option",{key:"0ae21d39e25fbe3cadc84a25705744a46a6b9a85",value:"",disabled:!0,selected:!0},this.placeholder),this.renderOptions()),this.renderSubText()))}static get watchers(){return{value:["handleValueChange"]}}};fi.style=mi;const gi=':host{--modus-autocomplete-border:none;--modus-autocomplete-border-active:none;--modus-autocomplete-font-size:14px;--modus-input-border-color:none}.editor::part(input-container),.editor::part(input){height:2.9375rem !important}table.density-comfortable .editor::part(input-container),table.density-comfortable .editor::part(input){height:1.75rem !important}table.density-compact .editor::part(input-container),table.density-compact .editor::part(input){height:1.25rem !important}.autocomplete-container{margin-left:4px;margin-top:5px}.editor::part(sub-text){display:none}.date-picker-container::part(date-inputs){align-items:center;display:flex;justify-content:center}.date-picker-container::part(calendar){z-index:99}.editor::part(input-container){border:2px solid var(--modus-input-border-active-color, #217cbb);border-radius:unset;z-index:99}.editor::part(input-container error){border:2px solid var(--modus-input-validation-error-color, #da212c);border-radius:unset;z-index:99}.error .editor::part(input-container){border:1px solid var(--modus-input-validation-error-color, #da212c);border-radius:unset;box-shadow:2px solid var(--modus-input-border-active-color, #da212c);z-index:99}.error-tooltip{background-color:var(--modus-input-validation-error-color, #da212c);border-radius:2px;color:#fff;display:none;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:12px;font-weight:600;letter-spacing:0.005em;line-height:15px;max-width:200px;padding:5px 8px;text-align:left;word-wrap:break-word;z-index:10}',bi=gi;var vi=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]]);return i};const yi=class{constructor(e){$(this,e),this.handleBlur=()=>{this.valueChange(this.editedValue)},this.handleKeyDown=t=>{this.keyDown(t,this.editedValue)},this.getDefaultProps=t=>({"aria-label":t,class:"editor",ref:i=>this.inputElement=i}),this.args=void 0,this.dataType=void 0,this.value=void 0,this.type=void 0,this.valueChange=void 0,this.keyDown=void 0,this.inputValueChangeHandler=void 0}connectedCallback(){this.editedValue=this.value}componentDidLoad(){this.inputElement.focusInput&&this.inputElement.focusInput()}handleDocumentClick(e){if(this.type!="date")return;const t=e.target;this.inputElement.contains(t)||this.handleBlur()}renderNumberInput(){function e(t,i){const n=t.key.toLowerCase();n===Re||n===Me?t.stopPropagation():i(t)}return l("modus-number-input",Object.assign({},this.getDefaultProps("Number input"),{value:this.value,textAlign:"right",size:"large",onBlur:this.handleBlur,onValueChange:t=>this.editedValue=t.detail,onKeyDown:t=>e(t,this.handleKeyDown)}))}renderTextInput(){return l("modus-text-input",Object.assign({},this.getDefaultProps("Text input"),{value:this.value,onValueChange:e=>{this.editedValue=e.detail,this.inputValueChangeHandler(e.detail)},onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocusInput:!0,size:"large"}))}renderSelectInput(){const e="display",t=this.args,i=(t==null?void 0:t.options)||[],n=(t==null?void 0:t.optionsDisplayProp)||e,o=t==null?void 0:t.placeholder,a=i.find(r=>r[n]===this.value);function s(r,d){r.key.toLowerCase()===ut?r.stopPropagation():d(r)}return l("div",null,l("modus-select",Object.assign({},this.getDefaultProps("Select input"),{value:a,"options-display-prop":n,size:"large",options:i,placeholder:o,onInputBlur:this.handleBlur,onKeyDown:r=>s(r,this.handleKeyDown),onValueChange:r=>{const d=r.detail;if(this.dataType==="badge"){const{display:c}=d,u=vi(d,["display"]);this.editedValue=Object.assign(Object.assign({},u),{text:c})}else this.dataType==="link"?this.editedValue=d:this.editedValue=d[e]}})))}renderDateInput(){var e;const t="value",i=(e=this.args)===null||e===void 0?void 0:e.format;return l("modus-date-picker",{onBlur:this.handleBlur,position:"auto",onClick:n=>n.stopPropagation(),class:"date-picker-container"},l("modus-date-input",Object.assign({},this.getDefaultProps("Date input"),{format:i,size:"large","show-calendar-icon":"true",value:this.value,onValueChange:n=>{this.editedValue=n.detail[t]}})))}renderAutocompleteInput(){var e,t;const i=this.args;let n=[],o="";this.dataType==="badge"?(n=i==null?void 0:i.options.map(s=>s.text),o=((e=this.value)===null||e===void 0?void 0:e.text)||""):this.dataType==="link"?(n=i==null?void 0:i.options.map(s=>s.display),o=((t=this.value)===null||t===void 0?void 0:t.display)||""):(n=(i==null?void 0:i.options)||[],o=this.editedValue);function a(s,r){const d=s.key.toLowerCase();d===Re||d===Me?s.stopPropagation():r(s)}return l("div",{class:"autocomplete-container"},l("modus-autocomplete",Object.assign({},this.getDefaultProps("Autocomplete input"),{"include-search-icon":"false",size:"medium",ref:s=>this.inputElement=s,options:n,onBlur:this.handleBlur,onKeyDown:s=>a(s,this.handleKeyDown),filterOptions:i.filterOptions?(...s)=>{if(this.inputElement&&(i!=null&&i.filterOptions))return this.inputElement.loading=!0,i==null?void 0:i.filterOptions(...s).finally(()=>{this.inputElement.loading=!1})}:void 0,onOptionSelected:s=>{const r=s.detail;if(this.dataType==="badge"){const d=i==null?void 0:i.options.find(c=>c.text===r);this.editedValue=d}else if(this.dataType==="link"){const d=i==null?void 0:i.options.find(c=>c.display===r);this.editedValue=d}else this.editedValue=r},value:o})))}renderEditor(){switch(this.type){case ct:return this.renderSelectInput();case dt:return this.renderAutocompleteInput();case lt:return this.renderDateInput();case rt:return this.renderNumberInput();case at:default:return this.renderTextInput()}}render(){return l(He,{key:"3cb2c6b8d4f5c8257905ee7d32b4a5d2f1892170"},this.renderEditor())}};yi.style=bi;export{Ai as flex_renderer,mt as modus_autocomplete,xt as modus_date_input,di as modus_date_picker,hi as modus_number_input,fi as modus_select,yi as modus_table_cell_editor};
