import{r as c,c as d,h as s,H as m,g as p}from"./index-Cr2Mr-Ck.js";import{M as a}from"./ModusIconMap-c226cf23-mOrC5bGl.js";import{c as h}from"./popper-0fbeff6d-CMBiYTiD.js";import"./IconChevronLeft-dfd06381-CrHEVP-z.js";import"./IconChevronRight-5734b74b-DDHSeXoL.js";import"./IconClose-be97678b-DIzIiDCV.js";import"./IconExpand-ccaa9f2c-BfHBzJTo.js";import"./IconVisibilityOn-6945ca0c-OlGOR4o_.js";const v=':host{display:block}.side-nav-item{align-items:center;background-color:var(--modus-side-navigation-item-bg, #fff);color:var(--modus-side-navigation-item-color, #252a2e);cursor:pointer;display:flex;fill:var(--modus-side-navigation-item-icon-color, #252a2e);height:3rem;position:relative;transition:top, left, height, width, opacity 0.2s ease-out 0s;z-index:0}.side-nav-item svg path{fill:var(--modus-side-navigation-item-icon-color, #252a2e)}.side-nav-item:hover:not(.disabled):not(.selected){background-color:var(--modus-side-navigation-item-hover-bg, #e0e1e9)}.side-nav-item .menu-icon{align-items:center;display:flex;justify-content:center;padding-left:1.25rem;z-index:0}.side-nav-item .menu-icon modus-tooltip{height:1.5rem;width:1.5rem}.side-nav-item .menu-icon img{filter:var(--modus-side-navigation-item-icon-filter)}.side-nav-item .menu-text{font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:0.875rem;overflow:hidden;padding-left:1rem;text-overflow:clip;white-space:nowrap}.side-nav-item .level-icon{align-items:center;display:flex;justify-content:center;margin-left:auto;padding:0 2px}.side-nav-item .level-icon svg path{fill:var(--modus-side-navigation-item-chevron-color, #252a2e)}.side-nav-item.expanded{transition:top, left, height, width, opacity 0.25s ease-in 0s}.side-nav-item.expanded .level-icon{padding:0 1rem}.side-nav-item.expanded .icon-expanded{transform:rotate(90deg)}.side-nav-item.expanded .icon-collapsed{transform:rotate(0deg)}.side-nav-item.expanded .icon-dropdownvisible{transform:rotate(270deg)}.side-nav-item.selected{background-color:var(--modus-side-navigation-item-active-bg, #217cbb);box-shadow:inset 0 0 2px var(--modus-side-navigation-item-active-border-color, #217cbb);color:var(--modus-side-navigation-item-active-color, #fff)}.side-nav-item.selected .menu-icon img{filter:var(--modus-side-navigation-item-icon-active-filter, invert(95%) sepia(100%) saturate(0%) hue-rotate(151deg) brightness(104%) contrast(105%))}.side-nav-item.selected svg path{fill:var(--modus-side-navigation-item-icon-active-color, #fff)}.side-nav-item.disabled{opacity:var(--modus-side-navigation-item-disabled-opacity, 0.3)}.dropdown.disabled{pointer-events:none}.dropdown:hover{cursor:pointer}.dropdown-list{border-collapse:collapse;border-radius:0.25rem;display:none;max-height:200px;opacity:1;overflow-x:auto;overflow-y:auto;position:absolute;transition:opacity 0.2s ease-in-out;z-index:1050}.dropdown-list.animate-list{display:block;opacity:0;visibility:hidden}.dropdown-list.visible{display:block;opacity:1;visibility:visible}.dropdown-list.list-border{border:1px solid var(--modus-dropdown-list-border-color, #6a6e79)}.dropdown-list.top{bottom:0}.dropdown-list.right{top:0}.dropdown-list.left{right:0;top:0}.dropdown-list .list-item::part(list-item-li){background-color:var(--modus-side-navigation-item-bg, #fff);border-radius:unset;color:var(--modus-side-navigation-item-color, #252a2e)}.dropdown-list .list-item::part(list-item-li):hover{background-color:var(--modus-side-navigation-item-hover-bg, #e0e1e9)}.dropdown-item{align-items:center;cursor:pointer;display:flex;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:0.875rem;gap:1rem;padding:0.4rem}.dropdown-item .menu-item-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}',u=v,f=class{constructor(e){c(this,e),this.sideNavItemClicked=d(this,"sideNavItemClicked"),this.sideNavItemHeaderClicked=d(this,"sideNavItemHeaderClicked"),this.sideNavItemFocus=d(this,"sideNavItemFocus"),this._sideNavItemAdded=d(this,"_sideNavItemAdded"),this._sideNavItemRemoved=d(this,"_sideNavItemRemoved"),this.sideNavListItemClicked=d(this,"sideNavListItemClicked"),this.popperInstance=null,this.disabled=!1,this.disableSelection=!1,this.expanded=!1,this.label=void 0,this.menuIcon=void 0,this.selected=!1,this.showExpandIcon=!1,this.isHeader={enabled:!1,items:[]},this.dropdownVisible=!1}async focusItem(){var e;(e=this._itemRef)===null||e===void 0||e.focus()}watchExpanded(){this.dropdownVisible&&(this.dropdownVisible=!1)}connectedCallback(){var e;this._sideNavItemAdded.emit(this.element),!((e=this.isHeader)===null||e===void 0)&&e.enabled&&(this.showExpandIcon=!0),document.addEventListener("mousedown",this.handleDocumentClick.bind(this))}disconnectedCallback(){this._sideNavItemRemoved.emit(this.element),this.destroyPopper(),document.removeEventListener("mousedown",this.handleDocumentClick.bind(this))}handleListItemClick(e){var i;this.sideNavListItemClicked.emit({id:e==null?void 0:e.id}),this.dropdownVisible=!1,this.label=e==null?void 0:e.label,this.menuIcon=(e==null?void 0:e.icon)||this.menuIcon,(i=this.sideNavItemHeaderClicked)===null||i===void 0||i.emit({id:e==null?void 0:e.id,selected:this===null||this===void 0?void 0:this.selected}),this.destroyPopper()}findParentReference(e){let i=e;for(;i;){if(i instanceof HTMLElement&&i.matches("nav"))return i;i instanceof ShadowRoot?i=i.host:i=i.parentElement||i.getRootNode()}return null}setupPopper(e){var i;if(!this.referenceRef||!this.dropdownRef)return;const t=(i=this.findParentReference(this.element))===null||i===void 0?void 0:i.clientWidth;this.popperInstance=h(this.referenceRef,this.dropdownRef,{placement:e?"bottom-start":"right",modifiers:[{name:"offset",options:{offset:[0,2],distance:10}},{name:"setWidth",enabled:!0,phase:"write",fn:({state:o})=>{o.placement.startsWith("bottom")?o.elements.popper.style.width=`${t-2}px`||"300px":o.placement.startsWith("right")&&(o.elements.popper.style.width="250px")}}]})}destroyPopper(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}handleClick(){var e,i,t,o;if(this.disabled)return;const n=(e=this.element.parentElement)===null||e===void 0?void 0:e.querySelectorAll("modus-side-navigation-item");if(n&&(n==null||n.forEach(r=>{const l=r;l!==this.element&&(l.selected=!1)})),this.selected=this.disableSelection?this.selected:!((i=this.isHeader)===null||i===void 0)&&i.enabled?!1:!this.selected,(t=this.sideNavItemClicked)===null||t===void 0||t.emit({id:this.element.id,selected:this===null||this===void 0?void 0:this.selected}),!((o=this.isHeader)===null||o===void 0)&&o.enabled){this.dropdownVisible=!this.dropdownVisible,this.dropdownVisible?this.setupPopper(this.expanded):this.destroyPopper();return}}handleKeyDown(e){(e.code.toUpperCase()==="ENTER"||e.code.toUpperCase()==="SPACE")&&this.handleClick()}handleDocumentClick(e){var i,t;const o=e.target;!((i=this.dropdownRef)===null||i===void 0)&&i.contains(o)||!((t=this.referenceRef)===null||t===void 0)&&t.contains(o)||(this.dropdownVisible=!1,this.destroyPopper())}renderDropdown(){var e,i;return s("div",{class:`dropdown-list ${this.dropdownVisible?"visible":"hidden"} list-border animate-list`,ref:t=>this.dropdownRef=t},s("modus-list",{slot:"dropdownList"},(i=(e=this.isHeader)===null||e===void 0?void 0:e.items)===null||i===void 0?void 0:i.map(t=>s("modus-list-item",{key:t.id,class:"list-item",borderless:!0,onClick:()=>this.handleListItemClick(t),onMouseDown:o=>o.stopPropagation()},s("span",{class:"dropdown-item"},s(a,{icon:t==null?void 0:t.icon,size:"24"}),s("span",{class:"menu-item-text"},t==null?void 0:t.label))))))}render(){var e,i;const t={"side-nav-item":!0,expanded:this.expanded,selected:this.selected,disabled:this.disabled};return s(m,{key:"d4bdedb88c38428854b9accdc6d446ddf4794847"},((e=this.isHeader)===null||e===void 0?void 0:e.enabled)&&this.renderDropdown(),s("modus-tooltip",{key:"b69df05ede4b8851c12a46d69d80a06d5a5ae8ad",text:this.label,disabled:this.disabled,position:"right"},s("li",{key:"6f2c8afa51dd8474e13f7a52c4e5f60a3f071a35",role:"treeitem",ref:o=>this.referenceRef=o,tabIndex:this.disabled?-1:0,class:t,onClick:()=>this.handleClick(),onKeyDown:o=>this.handleKeyDown(o),"aria-disabled":this.disabled?"true":null,"aria-label":this.label,"aria-current":this.selected?"true":null,onFocus:()=>this.sideNavItemFocus.emit({id:this.element.id})},s("div",{key:"6c3d9a52b1030e512b78b23f7de8b71fce54d585",class:"menu-icon"},s("slot",{key:"34f8cc40110e7b9485d2fd8cea553e0b16ea2672",name:"menu-icon"}),this.menuIcon&&s(a,{icon:this.menuIcon,"aria-label":this.label,size:"24"})),this.expanded&&s("div",{class:"menu-text"},this.label),s("div",{key:"43ab3253e1e596bc733f2461f0bad687ccd54414",class:`level-icon ${!((i=this.isHeader)===null||i===void 0)&&i.enabled&&this.expanded?this.dropdownVisible?"icon-dropdownvisible":"icon-expanded":"icon-collapsed"}`},this.showExpandIcon&&s(a,{icon:"chevron_right",size:"16"})))))}get element(){return p(this)}static get watchers(){return{expanded:["watchExpanded"]}}};f.style=u;export{f as modus_side_navigation_item};
