import{r as l,c as t,h as o,H as d}from"./index-BA1BzD6t.js";const a=e=>{var r,i,s;return o("svg",{class:`upload-cloud ${e.pressed?"pressed":""}`,fill:(r=e.color)!==null&&r!==void 0?r:"currentColor",height:(i=e.size)!==null&&i!==void 0?i:16,onClick:e.onClick,viewBox:"0 0 24 24",width:(s=e.size)!==null&&s!==void 0?s:16},o("path",{d:"M19.93 11.12c.04-.29.07-.57.07-.87C20 6.8 17.2 4 13.75 4c-2.53 0-4.7 1.5-5.68 3.66-.42-.1-.86-.16-1.32-.16C3.57 7.5 1 10.07 1 13.25S3.57 19 6.75 19H19c2.21 0 4-1.79 4-4a3.99 3.99 0 0 0-3.07-3.88Zm-4.41 1.31h-1.96V17c0 .27-.22.5-.5.5h-2.11c-.27 0-.5-.23-.5-.5v-4.57H8.48c-.23 0-.35-.28-.18-.44l3.35-3.35c.2-.2.51-.2.71 0l3.35 3.35c.16.16.05.44-.18.44Z"}))},n=e=>{var r,i,s;return o("svg",{class:`icon-cancel ${e.pressed?"pressed":""}`,fill:(r=e.color)!==null&&r!==void 0?r:"currentColor",height:(i=e.size)!==null&&i!==void 0?i:16,onClick:e.onClick,viewBox:"0 0 32 32",width:(s=e.size)!==null&&s!==void 0?s:16},o("path",{d:"M21.3027,10.6973a1.503,1.503,0,0,0-2.1211,0L16,13.8789l-3.1821-3.1816a1.5,1.5,0,0,0-2.1211,2.1211L13.8789,16l-3.1821,3.1816a1.5012,1.5012,0,0,0,0,2.1211,1.5363,1.5363,0,0,0,2.1211,0L16,18.1211l3.1816,3.1816a1.5,1.5,0,1,0,2.1211-2.1211L18.1211,16l3.1816-3.1816A1.5012,1.5012,0,0,0,21.3027,10.6973Z"}),o("path",{d:"M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2Zm0,26A12,12,0,1,1,28,16,12.0134,12.0134,0,0,1,16,28Z"}))},h='.modus-file-dropzone{color:var(--modus-body-color, #252a2e);display:flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.modus-file-dropzone input{display:none}.modus-file-dropzone .header{align-items:start;display:flex;flex-direction:column}.modus-file-dropzone .header label{font-size:1.5rem;font-weight:600;margin-bottom:0.5rem}.modus-file-dropzone .header span{margin-bottom:0.5rem}.modus-file-dropzone .dropzone{align-items:center;background-color:var(--modus-file-upload-dropzone-bg, rgba(241, 241, 246, 0.8));border:0.125rem dashed var(--modus-file-upload-dropzone-border-color, #6a6e79);border-radius:0.25rem;color:var(--modus-file-upload-dropzone-color, #6a6e79);display:flex;flex-direction:column;justify-content:center;padding:0.75rem 1rem}.modus-file-dropzone .dropzone .browse{color:var(--modus-file-upload-dropzone-browse-color, #0063a3)}.modus-file-dropzone .dropzone .browse:hover{cursor:pointer}.modus-file-dropzone .dropzone.highlight{background-color:var(--modus-file-upload-dropzone-highlight-bg, #dcedf9);border-color:var(--modus-file-upload-dropzone-highlight-border-color, #0063a3);color:var(--modus-file-upload-dropzone-highlight-color, #0063a3)}.modus-file-dropzone .dropzone.highlight svg{fill:var(--modus-file-upload-dropzone-highlight-color, #0063a3)}.modus-file-dropzone .dropzone.error{background-color:var(--modus-file-upload-dropzone-error-bg, #fbd4d7);border-color:var(--modus-file-upload-dropzone-error-border-color, #ab1f26);color:var(--modus-file-upload-dropzone-error-color, #ab1f26)}.modus-file-dropzone .dropzone.error svg{fill:var(--modus-file-upload-dropzone-error-color, #ab1f26)}.modus-file-dropzone .dropzone.disabled{background-color:var(--modus-file-upload-dropzone-disabled-bg, #f1f1f6);border-color:var(--modus-file-upload-dropzone-disabled-border-color, #6a6e79);color:var(--modus-file-upload-dropzone-disabled-color, #6a6e79);cursor:not-allowed}.modus-file-dropzone .dropzone.disabled svg{fill:var(--modus-file-upload-dropzone-disabled-svg-color, #b7b9c3)}.modus-file-dropzone .dropzone.disabled .browse{color:var(--modus-file-upload-dropzone-disabled-color, #6a6e79);cursor:not-allowed}.modus-file-dropzone .dropzone .error-messages{align-items:center;display:flex;flex-direction:column;gap:0.5rem}.modus-file-dropzone .dropzone svg{fill:var(--modus-file-upload-dropzone-color, #6a6e79);margin-bottom:0.25rem}',u=h,p=class{constructor(e){l(this,e),this.files=t(this,"files"),this.onDragLeave=r=>{this.fileDraggedOver=!1,r.preventDefault()},this.onDragOver=r=>{this.error||this.disabled||(this.fileDraggedOver=!0,r.preventDefault())},this.onDrop=r=>{this.disabled||(this.fileDraggedOver=!1,r.preventDefault(),this.dropzoneFiles=[...this.dropzoneFiles,...Array.from(r.dataTransfer.files)],this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error]),this.fileInput.value=null)},this.onFileChange=()=>{this.dropzoneFiles=[...this.dropzoneFiles,...Array.from(this.fileInput.files)],this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error]),this.fileInput.value=null},this.openBrowse=()=>{this.fileInput.click()},this.reset=()=>{this.dropzoneFiles=[],this.error=null,this.errorMessageTop="",this.errorMessageBottom="",this.files.emit([this.dropzoneFiles,this.error])},this.updateDropzoneState=()=>{if(!this.multiple&&this.dropzoneFiles.length>1){this.error="maxFileCount",this.errorMessageTop="Multiple files are not allowed.";return}if(this.maxFileCount&&this.maxFileCount<this.dropzoneFiles.length){this.error="maxFileCount",this.errorMessageTop=`You can only upload ${this.maxFileCount} ${this.maxFileCount>1?"files":"file"}.`;return}if(this.dropzoneFiles.some(i=>i.name.length>this.maxFileNameLength)){this.error="maxFileNameLength",this.errorMessageTop=`File name exceeds length limit: ${this.dropzoneFiles.find(i=>i.name.length>this.maxFileNameLength).name}`;return}const r=this.dropzoneFiles.reduce((i,s)=>i+s.size,0);if(this.maxTotalFileSizeBytes&&this.maxTotalFileSizeBytes<r){this.error="maxTotalFileSize",this.errorMessageTop="File exceeds size limit.",this.errorMessageBottom=`You can only upload a total file size of ${this.maxTotalFileSizeBytes} bytes.`;return}this.error=null,this.errorMessageTop="",this.errorMessageBottom=""},this.dropzoneFiles=[],this.error=null,this.fileDraggedOver=!1,this.acceptFileTypes=void 0,this.ariaLabel=void 0,this.description=void 0,this.dropzoneHeight=void 0,this.dropzoneWidth=void 0,this.fileDraggedOverInstructions="Drag files here.",this.includeStateIcon=!0,this.label=void 0,this.instructions="Drag files here or browse to upload.",this.maxFileCount=void 0,this.maxFileNameLength=void 0,this.maxTotalFileSizeBytes=void 0,this.multiple=!0,this.disabled=void 0}elementKeydownHandler(e){switch(e.code){case"Enter":this.fileInput.click();break}}async addFile(e){this.dropzoneFiles.push(e),this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error])}async getError(){return this.error}async getFiles(){return this.dropzoneFiles}async removeFile(e){const r=this.dropzoneFiles.find(s=>s.name===e),i=this.dropzoneFiles.indexOf(r);i>-1&&(this.dropzoneFiles.splice(i,1),this.dropzoneFiles=[...this.dropzoneFiles]),this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error])}render(){return o(d,{key:"e32075caab6e81297f4a9886ec080a2bd4c49d40","aria-label":this.ariaLabel,role:"button","aria-disabled":this.disabled?"true":void 0},o("div",{key:"07f65ed3e45f27a0413da1815a2c1e3e8e6a6c19",class:"modus-file-dropzone"},o("input",{key:"6c66f4a60bd5345bf6bf9115fae5398f96bea3b6",onChange:this.onFileChange,multiple:this.multiple,ref:e=>this.fileInput=e,type:"file",disabled:this.disabled,accept:this.acceptFileTypes}),o("div",{key:"f5d2d65fd353a4e0761401a3b03cd10cc34058dd",class:"header"},o("label",{key:"115d3d176add90f4847ccf0197eb09a4293d0839"},this.label),o("span",{key:"5449f73202db22792b542525757fde422ed7ca68"},this.description)),o("div",{key:"39c2eb65ae308cb7642e767ea8d06150cf7fc983",class:{dropzone:!0,error:!!this.error,highlight:this.fileDraggedOver,disabled:this.disabled},onDragLeave:e=>this.onDragLeave(e),onDragOver:e=>this.onDragOver(e),onDrop:e=>this.onDrop(e),style:{height:this.dropzoneHeight,width:this.dropzoneWidth},tabIndex:0},this.includeStateIcon&&(this.error?o(n,{size:"36"}):o(a,{size:"36"})),!this.error&&(this.fileDraggedOver?this.fileDraggedOverInstructions:o("div",{class:"browse",onClick:this.openBrowse},this.instructions)),this.error&&o("div",{class:"error-messages",role:"alert"},this.errorMessageTop&&o("span",null,this.errorMessageTop),this.errorMessageBottom&&o("span",null,this.errorMessageBottom),o("modus-button",{"button-style":"outline",color:"secondary",onClick:this.reset},"Reset")))))}};p.style=u;export{p as modus_file_dropzone};
